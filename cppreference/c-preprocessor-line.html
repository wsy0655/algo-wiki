<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head><meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>&#25991;&#20214;&#21517;&#21644;&#34892;&#20449;&#24687;</title>
<link rel="stylesheet" href="ext.css" />
<link rel="stylesheet" href="site_modules.css" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-c_preprocessor_line skin-cppreference2 action-view cpp-navbar">
<div id="cpp-content-base">
<div id="content"><a id="top"></a>
<h1 id="firstHeading" class="firstHeading">&#25991;&#20214;&#21517;&#21644;&#34892;&#20449;&#24687;</h1>
<div id="bodyContent">
<div id="contentSub"><span class="subpages">&lt; <a href="c.html">c</a>&lrm; | <a href="c-preprocessor.html">preprocessor</a></span></div>
<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr" xml:lang="zh">
<p><br /></p>
<p>&#22312;&#39044;&#22788;&#29702;&#22120;&#20013;&#26356;&#25913;&#24403;&#21069;&#34892;&#21495;&#21644;&#25991;&#20214;&#21517;&#12290;</p>
<h3><span class="mw-headline" id=".E8.AF.AD.E6.B3.95">&#35821;&#27861;</span></h3>
<table class="t-sdsc-begin">
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
<tr class="t-sdsc">
<td><code><b>#line</b></code> <span class="t-spar">&#34892;&#21495;</span></td>
<td>(1)</td>
<td class="t-sdsc-nopad"></td>
</tr>
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
<tr class="t-sdsc">
<td><code><b>#line</b></code> <span class="t-spar">&#34892;&#21495;</span> <code><b>&quot;</b></code><span class="t-spar">&#25991;&#20214;&#21517;</span><code><b>&quot;</b></code></td>
<td>(2)</td>
<td class="t-sdsc-nopad"></td>
</tr>
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
</table>
<h3><span class="mw-headline" id=".E8.A7.A3.E9.87.8A">&#35299;&#37322;</span></h3>
<div class="t-li1"><span class="t-li">1)</span> &#26356;&#25913;&#24403;&#21069;&#39044;&#22788;&#29702;&#22120;&#34892;&#21495;&#20026; <span class="t-spar">&#34892;&#21495;</span>&#12290;&#20174;&#27492;&#28857;&#24320;&#22987;&#65292;&#23439; <span class="t-c"><span class="mw-geshi c source-c">__LINE__</span></span> &#30340;&#20986;&#29616;&#20250;&#23637;&#24320;&#25104; <span class="t-spar">&#34892;&#21495;</span> &#21152;&#19978;&#33258;&#27492;&#36935;&#21040;&#30340;&#23454;&#38469;&#20195;&#30721;&#34892;&#25968;&#12290;</div>
<div class="t-li1"><span class="t-li">2)</span> &#20134;&#23558;&#24403;&#21069;&#39044;&#22788;&#29702;&#22120;&#25991;&#20214;&#21517;&#26356;&#25913;&#20026; <span class="t-spar">&#25991;&#20214;&#21517;</span>&#12290;&#27492;&#28857;&#21518;&#23439; <span class="t-c"><span class="mw-geshi c source-c">__FILE__</span></span> &#30340;&#27599;&#27425;&#20986;&#29616;&#23558;&#29983;&#25104; <span class="t-spar">&#25991;&#20214;&#21517;</span>&#12290;</div>
<p>&#20219;&#20309;&#39044;&#22788;&#29702;&#35760;&#21495;&#65288;&#23439;&#24120;&#37327;&#21450;&#34920;&#36798;&#24335;&#65289;&#37117;&#20801;&#35768;&#20986;&#29616;&#20026; <code>#line</code> &#30340;&#23454;&#21442;&#65292;&#21482;&#35201;&#23427;&#20204;&#23637;&#24320;&#25104;&#21512;&#27861;&#30340;&#21313;&#36827;&#21046;&#25972;&#25968;&#65292;&#21487;&#36873;&#22320;&#21518;&#38543;&#19968;&#20010;&#21512;&#27861;&#30340;&#23383;&#31526;&#20018;&#21363;&#21487;&#12290;</p>
<p><span class="t-spar">&#34892;&#21495;</span> &#24517;&#39035;&#26159;&#33267;&#23569;&#26377;&#19968;&#20010;&#21313;&#36827;&#21046;&#20301;&#30340;&#24207;&#21015;&#65288;&#21542;&#21017;&#31243;&#24207;&#38750;&#33391;&#26500;&#65289;&#65292;&#24182;&#19988;&#22987;&#32456;&#25353;&#21313;&#36827;&#21046;&#21028;&#35835;&#65288;&#21363;&#20351;&#23427;&#20197; <code>0</code> &#24320;&#22987;&#65289;&#12290;</p>
<p>&#33509; <span class="t-spar">&#34892;&#21495;</span> &#20026; 0 &#25110;&#22823;&#20110; <span class="t-rev-inl t-until-c99"><span>32767</span><span><span class="t-mark-rev t-until-c99" style="white-space: nowrap;">(C99 &#21069;)</span></span></span><span class="t-rev-inl t-since-c99"><span>2147483647</span><span><span class="t-mark-rev t-since-c99" style="white-space: nowrap;">(C99 &#36215;)</span></span></span>&#65292;&#21017;&#34892;&#20026;&#26410;&#23450;&#20041;&#12290;</p>
<h3><span class="mw-headline" id=".E6.B3.A8.E6.84.8F">&#27880;&#24847;</span></h3>
<p>&#19968;&#20123;&#33258;&#21160;&#20195;&#30721;&#29983;&#25104;&#24037;&#20855;&#20174;&#20197;&#20854;&#20182;&#35821;&#35328;&#20070;&#20889;&#30340;&#25991;&#20214;&#20135;&#29983; C &#28304;&#25991;&#20214;&#65292;&#23427;&#20204;&#20250;&#20351;&#29992;&#27492;&#25351;&#20196;&#12290;&#35813;&#24773;&#20917;&#19979;&#65292;&#23427;&#20204;&#21487;&#33021;&#22312;&#29983;&#25104;&#30340; C &#25991;&#20214;&#20013;&#25554;&#20837;&#24341;&#29992;&#21407;&#22987;&#65288;&#20154;&#31867;&#21487;&#35835;&#65289;&#28304;&#25991;&#20214;&#30340;&#34892;&#21495;&#21644;&#25991;&#20214;&#21517;&#30340; <code>#line</code> &#25351;&#20196;&#12290;</p>
<p><span class="t-c"><span class="mw-geshi c source-c"><span class="co2">#line __LINE__</span></span></span> &#25351;&#20196;&#20043;&#21518;&#30340;&#34892;&#21495;&#26159;&#26410;&#25351;&#26126;&#30340;&#65288;&#35813;&#24773;&#20917;&#19979; <span class="t-c"><span class="mw-geshi c source-c">__LINE__</span></span> &#21487;&#23637;&#24320;&#25104;&#20004;&#20010;&#21487;&#36873;&#20540;&#20043;&#19968;&#65306;&#36804;&#20170;&#20026;&#27490;&#25152;&#35265;&#30340;&#25442;&#34892;&#31526;&#25968;&#65292;&#25110;&#36804;&#20170;&#20026;&#27490;&#25152;&#35265;&#30340;&#25442;&#34892;&#31526;&#25968;&#21152;&#19978;&#32467;&#26463; <code>#line</code> &#25351;&#20196;&#30340;&#25442;&#34892;&#31526;&#65289;</p>
<h3><span class="mw-headline" id=".E7.A4.BA.E4.BE.8B">&#31034;&#20363;</span></h3>
<div class="t-example">
<div class="t-example-live-link"></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="c source-c">
<pre class="de1"><span class="co2">#include &lt;assert.h&gt;</span>
<span class="co2">#define FNAME &quot;test.c&quot;</span>
<span class="kw4">int</span> main<span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="co2">#line 777 FNAME</span>
        <a href="c-error-assert.html"><span class="kw407">assert</span></a><span class="br0">(</span><span class="nu0">2</span><span class="sy2">+</span><span class="nu0">2</span> <span class="sy1">==</span> <span class="nu0">5</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<p>&#21487;&#33021;&#30340;&#36755;&#20986;&#65306;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="text source-text">
<pre class="de1">test: test.c:777: int main(): Assertion `2+2 == 5&#39; failed.</pre></div>
</div>
</div>
<h3><span class="mw-headline" id=".E5.BC.95.E7.94.A8">&#24341;&#29992;</span></h3>
<div class="t-ref-std-17">
<ul>
<li>C17 &#26631;&#20934;&#65288;ISO/IEC 9899:2018&#65289;&#65306;</li>
</ul>
<dl>
<dd>
<ul>
<li>6.10.4 Line control &#65288;&#31532; 126 &#39029;&#65289;</li>
</ul>
</dd>
</dl>
<dl>
<dd>
<ul>
<li>J.1 Unspecified behavior</li>
</ul>
</dd>
</dl>
</div>
<div class="t-ref-std-11">
<ul>
<li>C11 &#26631;&#20934;&#65288;ISO/IEC 9899:2011&#65289;&#65306;</li>
</ul>
<dl>
<dd>
<ul>
<li>6.10.4 Line control &#65288;&#31532; 173 &#39029;&#65289;</li>
</ul>
</dd>
</dl>
</div>
<div class="t-ref-std-c99">
<ul>
<li>C99 &#26631;&#20934;&#65288;ISO/IEC 9899:1999&#65289;&#65306;</li>
</ul>
<dl>
<dd>
<ul>
<li>6.10.4 Line control &#65288;&#31532; 158 &#39029;&#65289;</li>
</ul>
</dd>
</dl>
</div>
<div class="t-ref-std-c89">
<ul>
<li>C89/C90 &#26631;&#20934;&#65288;ISO/IEC 9899:1990&#65289;&#65306;</li>
</ul>
<dl>
<dd>
<ul>
<li>3.8.4 Line control</li>
</ul>
</dd>
</dl>
</div>
<h3><span class="mw-headline" id=".E5.8F.82.E9.98.85">&#21442;&#38405;</span></h3>
<table class="t-dsc-begin">
<tr class="t-dsc">
<td colspan="2">
<div class="t-dsc-see"><span class=""><span>&#25991;&#20214;&#21517;&#21644;&#34892;&#20449;&#24687;</span></span>&#30340; <span><span><a href="cpp-preprocessor-line.html">C++ &#25991;&#26723;</a></span></span></div>
</td>
</tr>
</table>
</div>
<div class="visualClear"></div>
</div>
</div>
</div>
</body>
</html>
