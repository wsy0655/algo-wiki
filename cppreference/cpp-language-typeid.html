<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head><meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>typeid &#36816;&#31639;&#31526;</title>
<link rel="stylesheet" href="ext.css" />
<link rel="stylesheet" href="site_modules.css" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_typeid skin-cppreference2 action-view cpp-navbar">
<div id="cpp-content-base">
<div id="content"><a id="top"></a>
<h1 id="firstHeading" class="firstHeading"><code>typeid</code> &#36816;&#31639;&#31526;</h1>
<div id="bodyContent">
<div id="contentSub"><span class="subpages">&lt; <a href="cpp.html">cpp</a>&lrm; | <a href="cpp-language.html">language</a></span></div>
<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr" xml:lang="zh">
<p><br /></p>
<p>&#26597;&#35810;&#31867;&#22411;&#30340;&#20449;&#24687;&#12290;</p>
<p>&#29992;&#20110;&#24517;&#39035;&#30693;&#26195;<a href="cpp-language-object.html#.E5.A4.9A.E6.80.81.E5.AF.B9.E8.B1.A1">&#22810;&#24577;&#23545;&#35937;</a>&#30340;<a href="cpp-language-type.html#.E5.8A.A8.E6.80.81.E7.B1.BB.E5.9E.8B">&#21160;&#24577;&#31867;&#22411;</a>&#30340;&#22330;&#21512;&#20197;&#21450;&#38745;&#24577;&#31867;&#22411;&#37492;&#21035;&#12290;</p>
<h3><span class="mw-headline" id=".E8.AF.AD.E6.B3.95">&#35821;&#27861;</span></h3>
<table class="t-sdsc-begin">
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
<tr class="t-sdsc">
<td><code><b>typeid (</b></code> <span class="t-spar">&#31867;&#22411;</span> <code><b>)</b></code></td>
<td>(1)</td>
<td class="t-sdsc-nopad"></td>
</tr>
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
<tr class="t-sdsc">
<td><code><b>typeid (</b></code> <span class="t-spar">&#34920;&#36798;&#24335;</span> <code><b>)</b></code></td>
<td>(2)</td>
<td class="t-sdsc-nopad"></td>
</tr>
<tr>
<td colspan="10" class="t-sdsc-sep"></td>
</tr>
</table>
<p><span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#34920;&#36798;&#24335;&#26159;<a href="cpp-language-value_category.html">&#24038;&#20540;&#34920;&#36798;&#24335;</a>&#65292;&#23427;&#25351;&#20195;&#19968;&#20010;&#20855;&#26377;<a href="cpp-language-static.html">&#38745;&#24577;&#23384;&#20648;&#26399;</a>&#30340;&#65292;&#22810;&#24577;&#31867;&#22411; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#25110;&#23427;&#30340;&#26576;&#20010;&#27966;&#29983;&#31867;&#22411;&#30340; const &#38480;&#23450;&#29256;&#26412;&#31867;&#22411;&#30340;&#23545;&#35937;&#12290;</p>
<p>&#22914;&#26524;&#20351;&#29992; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#26102; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#30340;&#26631;&#20934;&#24211;&#23450;&#20041;&#19981;&#21487;&#35265;&#65292;&#37027;&#20040;&#31243;&#24207;&#38750;&#33391;&#26500;&#12290;</p>
<h3><span class="mw-headline" id=".E8.A7.A3.E9.87.8A">&#35299;&#37322;</span></h3>
<p>&#22914;&#26524;<span class="t-spar">&#31867;&#22411;</span>&#8202;&#65279;&#25110;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#30340;&#31867;&#22411;&#26159;&#31867;&#31867;&#22411;&#25110;&#21040;&#31867;&#31867;&#22411;&#30340;&#24341;&#29992;&#65292;&#37027;&#20040;&#35813;&#31867;&#31867;&#22411;&#19981;&#33021;&#26159;<a href="cpp-language-type.html#.E4.B8.8D.E5.AE.8C.E6.95.B4.E7.B1.BB.E5.9E.8B">&#19981;&#23436;&#25972;&#31867;&#22411;</a>&#12290;</p>
<div class="t-li1"><span class="t-li">1)</span> &#25351;&#20195;&#19968;&#20010;&#34920;&#31034;<span class="t-spar">&#31867;&#22411;</span>&#8202;&#65279;&#30340; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#12290;&#22914;&#26524;<span class="t-spar">&#31867;&#22411;</span>&#8202;&#65279;&#26159;&#24341;&#29992;&#31867;&#22411;&#65292;&#37027;&#20040;&#32467;&#26524;&#25351;&#20195;&#30340; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#34920;&#31034;&#34987;&#24341;&#29992;&#30340;&#31867;&#22411;&#30340;&#26080; cv &#38480;&#23450;&#29256;&#26412;&#12290;</div>
<div class="t-li1"><span class="t-li">2)</span> &#26816;&#39564;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#65306;
<ul>
<li>&#22914;&#26524;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#26159;&#26631;&#35782;&#20102;&#26576;&#20010;<a href="cpp-language-object.html#.E5.A4.9A.E6.80.81.E5.AF.B9.E8.B1.A1">&#22810;&#24577;&#31867;&#22411;</a>&#65288;&#21363;&#22768;&#26126;&#25110;&#32487;&#25215;&#33267;&#23569;&#19968;&#20010;<a href="cpp-language-virtual.html">&#34394;&#20989;&#25968;</a>&#30340;&#31867;&#65289;&#23545;&#35937;&#30340;<span class="t-rev-inl t-until-cxx11"><span><a href="cpp-language-value_category.html#.E5.B7.A6.E5.80.BC">&#24038;&#20540;</a></span><span><span class="t-mark-rev t-until-cxx11" style="white-space: nowrap;">(C++11 &#21069;)</span></span></span><span class="t-rev-inl t-since-cxx11"><span><a href="cpp-language-value_category.html#.E6.B3.9B.E5.B7.A6.E5.80.BC">&#27867;&#24038;&#20540;</a></span><span><span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11 &#36215;)</span></span></span>&#34920;&#36798;&#24335;&#65292;&#37027;&#20040; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#34920;&#36798;&#24335;&#23545;&#35813;&#34920;&#36798;&#24335;&#27714;&#20540;&#65292;&#28982;&#21518;&#25351;&#20195;&#34920;&#31034;&#35813;&#34920;&#36798;&#24335;&#21160;&#24577;&#31867;&#22411;&#30340; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#12290;</li>
</ul>
<dl>
<dd>
<ul>
<li>&#22914;&#26524;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#26159;&#19968;&#20010;<a href="cpp-language-operator_member_access.html#.E5.86.85.E5.BB.BA.E7.9A.84.E9.97.B4.E6.8E.A5.E5.AF.BB.E5.9D.80.E8.BF.90.E7.AE.97.E7.AC.A6">&#38388;&#25509;&#23547;&#22336;&#34920;&#36798;&#24335;</a>&#65292;&#24182;&#19988;&#23427;&#30340;&#25805;&#20316;&#25968;&#27714;&#20540;&#20026;<a href="cpp-language-pointer.html#.E7.A9.BA.E6.8C.87.E9.92.88">&#31354;&#25351;&#38024;&#20540;</a>&#65292;&#37027;&#20040;&#23601;&#20250;&#25243;&#20986;&#21305;&#37197; <span class="t-lc"><a href="cpp-types-bad_typeid.html">std::bad_typeid</a></span> &#31867;&#22411;&#30340;&#22788;&#29702;&#22359;&#30340;&#31867;&#22411;&#30340;&#24322;&#24120;<sup id="cite_ref-1" class="reference"><a href="cpp-language-typeid.html#cite_note-1">[1]</a></sup>&#12290;</li>
</ul>
</dd>
</dl>
<ul>
<li>&#21542;&#21017;&#65292;<span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> <a href="cpp-language-expressions.html#.E6.BD.9C.E5.9C.A8.E6.B1.82.E5.80.BC.E8.A1.A8.E8.BE.BE.E5.BC.8F">&#19981;&#23545;&#35813;&#34920;&#36798;&#24335;&#27714;&#20540;</a><span class="t-rev-inl t-since-cxx11"><span>&#65288;&#21363;&#35813;&#34920;&#36798;&#24335;&#26159;&#19981;&#27714;&#20540;&#25805;&#20316;&#25968;</span><span><span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11 &#36215;)</span></span></span>&#65292;&#32780;&#23427;&#25152;&#25351;&#20195;&#30340; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#34920;&#31034;&#35813;&#34920;&#36798;&#24335;&#30340;&#38745;&#24577;&#31867;&#22411;&#12290;&#19981;&#36827;&#34892;&#24038;&#20540;&#21040;&#21491;&#20540;&#12289;&#25968;&#32452;&#21040;&#25351;&#38024;&#25110;&#20989;&#25968;&#21040;&#25351;&#38024;&#36716;&#25442;&#12290;</li>
</ul>
<table class="t-rev-begin">
<tr class="t-rev t-since-cxx17">
<td>
<dl>
<dd>
<ul>
<li>&#28982;&#32780;&#23545;&#20110;&#32431;&#21491;&#20540;&#21442;&#25968;&#65292;&#65288;&#24418;&#24335;&#19978;&#65289;&#35201;&#36827;&#34892;<a href="cpp-language-implicit_conversion.html#.E4.B8.B4.E6.97.B6.E9.87.8F.E5.AE.9E.E8.B4.A8.E5.8C.96">&#20020;&#26102;&#37327;&#23454;&#36136;&#21270;</a>&#65306;&#21442;&#25968;&#24517;&#39035;&#22312; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#34920;&#36798;&#24335;&#25152;&#20986;&#29616;&#30340;&#35821;&#22659;&#20013;&#21487;&#26512;&#26500;&#12290;</li>
</ul>
</dd>
</dl>
</td>
<td><span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17 &#36215;)</span></td>
</tr>
</table>
</div>
<p>&#22914;&#26524;<span class="t-spar">&#31867;&#22411;</span>&#8202;&#65279;&#21644;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#30340;&#31867;&#22411;&#20855;&#26377; cv &#38480;&#23450;&#65292;&#37027;&#20040; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#30340;&#32467;&#26524;&#20250;&#25351;&#20195;&#23545;&#24212;&#30340;&#26080; cv &#38480;&#23450;&#31867;&#22411;&#65288;&#21363; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span><span class="br0">(</span>T<span class="br0">)</span> <span class="sy1">==</span> <span class="kw1">typeid</span><span class="br0">(</span><span class="kw4">const</span> T<span class="br0">)</span></span></span>&#65289;&#12290;</p>
<p>&#22914;&#26524;&#23545;&#22788;&#20110;&#26500;&#36896;&#21644;&#38144;&#27585;&#36807;&#31243;&#20013;&#30340;&#23545;&#35937;&#65288;&#22312;&#26500;&#36896;&#20989;&#25968;&#25110;&#26512;&#26500;&#20989;&#25968;&#20043;&#20869;&#65292;&#21253;&#25324;&#26500;&#36896;&#20989;&#25968;&#30340;<a href="cpp-language-initializer_list.html" class="mw-redirect">&#21021;&#22987;&#21270;&#22120;&#21015;&#34920;</a>&#25110;<a href="cpp-language-data_members.html#.E6.88.90.E5.91.98.E5.88.9D.E5.A7.8B.E5.8C.96">&#40664;&#35748;&#25104;&#21592;&#21021;&#22987;&#21270;&#24335;</a>&#65289;&#20351;&#29992; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span>&#65292;&#37027;&#20040;&#27492; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#25351;&#20195;&#30340; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#34920;&#31034;&#27491;&#22312;&#26500;&#36896;&#25110;&#38144;&#27585;&#30340;&#31867;&#65292;&#21363;&#20415;&#23427;&#19981;&#26159;&#26368;&#32456;&#27966;&#29983;&#31867;&#12290;</p>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="cpp-language-typeid.html#cite_ref-1">&uarr;</a></span> <span class="reference-text">&#22312;&#20854;&#20182;&#35821;&#22659;&#19979;&#65292;&#23545;&#27492;&#31867;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#36827;&#34892;&#27714;&#20540;&#20250;&#23548;&#33268;&#26410;&#23450;&#20041;&#34892;&#20026;&#12290;</span></li>
</ol>
<h3><span class="mw-headline" id=".E6.B3.A8.E8.A7.A3">&#27880;&#35299;</span></h3>
<p>&#24403;&#24212;&#29992;&#20110;&#22810;&#24577;&#31867;&#22411;&#30340;&#34920;&#36798;&#24335;&#26102;&#65292;typeid &#34920;&#36798;&#24335;&#30340;&#27714;&#20540;&#21487;&#33021;&#28041;&#21450;&#36816;&#34892;&#26102;&#24320;&#38144;&#65288;&#34394;&#34920;&#26597;&#25214;&#65289;&#65292;&#20854;&#20182;&#24773;&#20917;&#19979; typeid &#34920;&#36798;&#24335;&#37117;&#22312;&#32534;&#35793;&#26102;&#35299;&#20915;&#12290;</p>
<p>&#26410;&#25351;&#26126; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#25351;&#20195;&#30340;&#23545;&#35937;&#30340;&#26512;&#26500;&#20989;&#25968;&#26159;&#21542;&#20250;&#22312;&#31243;&#24207;&#32467;&#26463;&#26102;&#25191;&#34892;&#12290;</p>
<p>&#19981;&#20445;&#35777;&#21516;&#19968;&#31867;&#22411;&#19978;&#30340; typeid &#34920;&#36798;&#24335;&#30340;&#25152;&#26377;&#27714;&#20540;&#37117;&#25351;&#20195;&#21516;&#19968;&#20010; <span class="t-lc"><a href="cpp-types-type_info.html">std::type_info</a></span> &#23545;&#35937;&#65292;&#19981;&#36807;&#36825;&#20123; <code>type_info</code> &#23545;&#35937;&#30340; <span class="t-lc"><a href="cpp-types-type_info-hash_code.html">std::type_info::hash_code</a></span> &#30456;&#21516;&#65292;&#23427;&#20204;&#30340; <span class="t-lc"><a href="cpp-types-type_index.html">std::type_index</a></span> &#20063;&#30456;&#21516;&#12290;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw4">const</span> <a href="cpp-types-type_info.html"><span class="kw453">std::<span class="me2">type_info</span></span></a><span class="sy3">&amp;</span> ti1 <span class="sy1">=</span> <span class="kw1">typeid</span><span class="br0">(</span>A<span class="br0">)</span><span class="sy4">;</span>
<span class="kw4">const</span> <a href="cpp-types-type_info.html"><span class="kw453">std::<span class="me2">type_info</span></span></a><span class="sy3">&amp;</span> ti2 <span class="sy1">=</span> <span class="kw1">typeid</span><span class="br0">(</span>A<span class="br0">)</span><span class="sy4">;</span>
 
<a href="cpp-error-assert.html"><span class="kw776">assert</span></a><span class="br0">(</span><span class="sy3">&amp;</span>ti1 <span class="sy1">==</span> <span class="sy3">&amp;</span>ti2<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#19981;&#20445;&#35777;</span>
<a href="cpp-error-assert.html"><span class="kw776">assert</span></a><span class="br0">(</span>ti1 <span class="sy1">==</span> ti2<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#20445;&#35777;</span>
<a href="cpp-error-assert.html"><span class="kw776">assert</span></a><span class="br0">(</span>ti1.<span class="me1">hash_code</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">==</span> ti2.<span class="me1">hash_code</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#20445;&#35777;</span>
<a href="cpp-error-assert.html"><span class="kw776">assert</span></a><span class="br0">(</span><a href="cpp-types-type_index.html"><span class="kw454">std::<span class="me2">type_index</span></span></a><span class="br0">(</span>ti1<span class="br0">)</span> <span class="sy1">==</span> <a href="cpp-types-type_index.html"><span class="kw454">std::<span class="me2">type_index</span></span></a><span class="br0">(</span>ti2<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#20445;&#35777;</span></pre></div>
</div>
<h3><span class="mw-headline" id=".E5.85.B3.E9.94.AE.E8.AF.8D">&#20851;&#38190;&#35789;</span></h3>
<p><a href="cpp-keyword-typeid.html"><tt>typeid</tt></a></p>
<h3><span class="mw-headline" id=".E7.A4.BA.E4.BE.8B">&#31034;&#20363;</span></h3>
<div class="t-example">
<p>&#35813;&#31034;&#20363;&#23637;&#31034;&#20351;&#29992;&#19968;&#31181;&#23454;&#29616;&#26102;&#30340;&#36755;&#20986;&#65292;&#20854;&#20013; type_info::name &#36820;&#22238;&#23436;&#25972;&#31867;&#22411;&#21517;&#65307;&#33509;&#20351;&#29992; gcc &#25110;&#30456;&#20284;&#32773;&#21017;&#39035;&#36890;&#36807; c++filt -t &#36807;&#28388;&#12290;</p>
<div class="t-example-live-link"></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;string&gt;</span>
<span class="co2">#include &lt;typeinfo&gt;</span>
 
<span class="kw1">struct</span> Base <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// &#38750;&#22810;&#24577;</span>
<span class="kw1">struct</span> Derived <span class="sy4">:</span> Base <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
 
<span class="kw1">struct</span> Base2 <span class="br0">{</span> <span class="kw1">virtual</span> <span class="kw4">void</span> foo<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span> <span class="br0">}</span><span class="sy4">;</span> <span class="co1">// &#22810;&#24577;</span>
<span class="kw1">struct</span> Derived2 <span class="sy4">:</span> Base2 <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">int</span> myint <span class="sy1">=</span> <span class="nu0">50</span><span class="sy4">;</span>
    <a href="cpp-string-basic_string.html"><span class="kw1233">std::<span class="me2">string</span></span></a> mystr <span class="sy1">=</span> <span class="st0">&quot;string&quot;</span><span class="sy4">;</span>
    <span class="kw4">double</span> <span class="sy2">*</span>mydoubleptr <span class="sy1">=</span> nullptr<span class="sy4">;</span>
 
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;myint &#30340;&#31867;&#22411;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span>myint<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span>
              <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;mystr &#30340;&#31867;&#22411;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span>mystr<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span>
              <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;mydoubleptr &#30340;&#31867;&#22411;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span>mydoubleptr<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
 
    <span class="co1">// std::cout &lt;&lt; myint &#26159;&#22810;&#24577;&#31867;&#22411;&#30340;&#27867;&#24038;&#20540;&#34920;&#36798;&#24335;&#65307;&#27714;&#20540;</span>
    <span class="kw4">const</span> <a href="cpp-types-type_info.html"><span class="kw453">std::<span class="me2">type_info</span></span></a><span class="sy3">&amp;</span> r1 <span class="sy1">=</span> <span class="kw1">typeid</span><span class="br0">(</span><a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> myint<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#21103;&#20316;&#29992;&#65306;&#25171;&#21360; 50</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;std::cout&lt;&lt;myint &#30340;&#31867;&#22411;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> r1.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
 
    <span class="co1">// std::printf() &#19981;&#26159;&#22810;&#24577;&#31867;&#22411;&#30340;&#27867;&#24038;&#20540;&#34920;&#36798;&#24335;&#65307;&#19981;&#27714;&#20540;</span>
    <span class="kw4">const</span> <a href="cpp-types-type_info.html"><span class="kw453">std::<span class="me2">type_info</span></span></a><span class="sy3">&amp;</span> r2 <span class="sy1">=</span> <span class="kw1">typeid</span><span class="br0">(</span><a href="cpp-io-c-fprintf.html"><span class="kw1849">std::<span class="me2">printf</span></span></a><span class="br0">(</span><span class="st0">&quot;%d<span class="es1">\n</span>&quot;</span>, myint<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;printf(<span class="es1">\&quot;</span>%d<span class="es1">\\</span>n<span class="es1">\&quot;</span>,myint) &#30340;&#31867;&#22411;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> r2.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
 
    <span class="co1">// &#38750;&#22810;&#24577;&#24038;&#20540;&#26102;&#26159;&#38745;&#24577;&#31867;&#22411;</span>
    Derived d1<span class="sy4">;</span>
    Base<span class="sy3">&amp;</span> b1 <span class="sy1">=</span> d1<span class="sy4">;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;&#38750;&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span>b1<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
 
    Derived2 d2<span class="sy4">;</span>
    Base2<span class="sy3">&amp;</span> b2 <span class="sy1">=</span> d2<span class="sy4">;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;&quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span>b2<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
 
    <span class="kw1">try</span>
    <span class="br0">{</span>
        <span class="co1">// &#35299;&#24341;&#29992;&#31354;&#25351;&#38024;&#65306;&#23545;&#20110;&#38750;&#22810;&#24577;&#34920;&#36798;&#24335; OK</span>
        <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;mydoubleptr &#25351;&#21521; &quot;</span> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span><span class="sy2">*</span>mydoubleptr<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span> 
        <span class="co1">// &#35299;&#24341;&#29992;&#31354;&#25351;&#38024;&#65306;&#23545;&#22810;&#24577;&#24038;&#20540;&#21017;&#19981;&#34892;</span>
        Derived2<span class="sy2">*</span> bad_ptr <span class="sy1">=</span> nullptr<span class="sy4">;</span>
        <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot;bad_ptr &#25351;&#21521;...&quot;</span><span class="sy4">;</span>
        <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="kw1">typeid</span><span class="br0">(</span><span class="sy2">*</span>bad_ptr<span class="br0">)</span>.<span class="me1">name</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
    <span class="br0">}</span>
    <span class="kw1">catch</span> <span class="br0">(</span><span class="kw4">const</span> <a href="cpp-types-bad_typeid.html"><span class="kw455">std::<span class="me2">bad_typeid</span></span></a><span class="sy3">&amp;</span> e<span class="br0">)</span>
    <span class="br0">{</span>
         <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">&quot; &#25429;&#33719; &quot;</span> <span class="sy1">&lt;&lt;</span> e.<span class="me1">what</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre></div>
</div>
<p>&#21487;&#33021;&#30340;&#36755;&#20986;&#65306;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="text source-text">
<pre class="de1">======== &#26469;&#33258; Clang &#30340;&#36755;&#20986; ========
myint &#30340;&#31867;&#22411;&#65306;i
mystr &#30340;&#31867;&#22411;&#65306;NSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE
mydoubleptr &#30340;&#31867;&#22411;&#65306;Pd
50
std::cout&lt;&lt;myint &#30340;&#31867;&#22411;&#65306;NSt3__113basic_ostreamIcNS_11char_traitsIcEEEE
printf(&quot;%d\n&quot;,myint) &#30340;&#31867;&#22411;&#65306;i
&#38750;&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;4Base
&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;8Derived2
mydoubleptr &#25351;&#21521; d
bad_ptr &#25351;&#21521;... &#25429;&#33719; std::bad_typeid
 
======== &#26469;&#33258; MSVC &#30340;&#36755;&#20986; ========
myint &#30340;&#31867;&#22411;&#65306;int
mystr &#30340;&#31867;&#22411;&#65306;class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,&#11168;
class std::allocator&lt;char&gt; &gt;
mydoubleptr &#30340;&#31867;&#22411;&#65306;double * __ptr64
50
std::cout&lt;&lt;myint &#30340;&#31867;&#22411;&#65306;class std::basic_ostream&lt;char,struct std::char_traits&lt;char&gt; &gt;
printf(&quot;%d\n&quot;,myint) &#30340;&#31867;&#22411;&#65306;int
&#38750;&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;struct Base
&#22810;&#24577;&#22522;&#31867;&#30340;&#24341;&#29992;&#65306;struct Derived2
mydoubleptr &#25351;&#21521; double
bad_ptr &#25351;&#21521;... &#25429;&#33719; Attempted a typeid of nullptr pointer!</pre></div>
</div>
</div>
<h3><span class="mw-headline" id=".E7.BC.BA.E9.99.B7.E6.8A.A5.E5.91.8A">&#32570;&#38519;&#25253;&#21578;</span></h3>
<p>&#19979;&#21015;&#26356;&#25913;&#34892;&#20026;&#30340;&#32570;&#38519;&#25253;&#21578;&#36861;&#28335;&#22320;&#24212;&#29992;&#20110;&#20197;&#21069;&#20986;&#29256;&#30340; C++ &#26631;&#20934;&#12290;</p>
<table class="dsctable" style="font-size:0.8em">
<tr>
<th>&#32570;&#38519;&#25253;&#21578;</th>
<th>&#24212;&#29992;&#20110;</th>
<th>&#20986;&#29256;&#26102;&#30340;&#34892;&#20026;</th>
<th>&#27491;&#30830;&#34892;&#20026;</th>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/492.html">CWG 492</a></td>
<td>C++98</td>
<td>&#23545;&#25351;&#20195; cv &#38480;&#23450;&#31867;&#22411;&#30340;&#24341;&#29992;&#24212;&#29992; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#30340;&#32467;&#26524;&#34920;&#31034;&#34987;&#24341;&#29992;&#31867;&#22411;</td>
<td>&#32467;&#26524;&#34920;&#31034;&#26080; cv &#38480;&#23450;&#30340;&#34987;&#24341;&#29992;&#31867;&#22411;</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1416.html">CWG 1416</a></td>
<td>C++98</td>
<td>&#23545;&#20110;&#39030;&#23618; cv &#38480;&#23450;&#30340;&#29992;&#35789;&#21487;&#33021;&#20250;&#24341;&#36215;&#35823;&#35299;</td>
<td>&#25913;&#36827;&#29992;&#35789;</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1431.html">CWG 1431</a></td>
<td>C++98</td>
<td>&#21482;&#20801;&#35768; <span class="mw-geshi cpp source-cpp"><span class="kw1">typeid</span></span> &#25243;&#20986; <span class="t-lc"><a href="cpp-types-bad_typeid.html">std::bad_typeid</a></span></td>
<td>&#20801;&#35768;&#25243;&#20986;&#21487;&#21305;&#37197;&#30340;&#27966;&#29983;&#31867;</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1954.html">CWG 1954</a></td>
<td>C++98</td>
<td>&#19981;&#26126;&#30830;&#26159;&#21542;&#20250;&#22312;<span class="t-spar">&#34920;&#36798;&#24335;</span>&#8202;&#65279;&#30340;&#23376;&#34920;&#36798;&#24335;&#20013;&#26816;&#26597;&#31354;&#25351;&#38024;&#35299;&#24341;&#29992;</td>
<td>&#21482;&#20250;&#22312;&#39030;&#23618;&#26816;&#26597;</td>
</tr>
</table>
<h3><span class="mw-headline" id=".E5.8F.82.E9.98.85">&#21442;&#38405;</span></h3>
<table class="t-dsc-begin">
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-types-type_info.html"><span class="t-lines"><span>type_info</span></span></a></div>
</div>
</td>
<td>&#21253;&#21547;&#26576;&#20010;&#31867;&#22411;&#30340;&#20449;&#24687;&#65292;<strong class="selflink">typeid</strong> &#36816;&#31639;&#31526;&#25152;&#36820;&#22238;&#30340;&#31867;<br />
<span class="t-mark" style="white-space: nowrap;">(&#31867;)</span></td>
</tr>
</table>
</div>
<div class="visualClear"></div>
</div>
</div>
</div>
</body>
</html>
