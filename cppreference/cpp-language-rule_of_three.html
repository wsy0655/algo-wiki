<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head><meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>&#19977;/&#20116;/&#38646;&#21407;&#21017;</title>
<link rel="stylesheet" href="ext.css" />
<link rel="stylesheet" href="site_modules.css" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_rule_of_three skin-cppreference2 action-view cpp-navbar">
<div id="cpp-content-base">
<div id="content"><a id="top"></a>
<h1 id="firstHeading" class="firstHeading">&#19977;/&#20116;/&#38646;&#21407;&#21017;</h1>
<div id="bodyContent">
<div id="contentSub"><span class="subpages">&lt; <a href="cpp.html">cpp</a>&lrm; | <a href="cpp-language.html">language</a></span></div>
<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr" xml:lang="zh">
<p><br /></p>
<h3><span class="mw-headline" id=".E4.B8.89.E5.8E.9F.E5.88.99">&#19977;&#21407;&#21017;</span></h3>
<p>&#22914;&#26524;&#26576;&#20010;&#31867;&#38656;&#35201;&#29992;&#25143;&#23450;&#20041;&#30340;<a href="cpp-language-destructor.html">&#26512;&#26500;&#20989;&#25968;</a>&#12289;&#29992;&#25143;&#23450;&#20041;&#30340;<a href="cpp-language-copy_constructor.html">&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;</a>&#25110;&#29992;&#25143;&#23450;&#20041;&#30340;<a href="cpp-language-as_operator.html" class="mw-redirect">&#22797;&#21046;&#36171;&#20540;&#36816;&#31639;&#31526;</a>&#65292;&#37027;&#20040;&#23427;&#20960;&#20046;&#32943;&#23450;&#38656;&#35201;&#20840;&#37096;&#19977;&#20010;&#12290;</p>
<p>&#22240;&#20026; C++ &#22312;&#21508;&#31181;&#22330;&#21512;&#65288;&#25353;&#20540;&#20256;&#36882;/&#36820;&#22238;&#12289;&#25805;&#32437;&#23481;&#22120;&#31561;&#65289;&#23545;&#29992;&#25143;&#23450;&#20041;&#31867;&#22411;&#30340;&#23545;&#35937;&#36827;&#34892;&#22797;&#21046;&#21644;&#22797;&#21046;&#36171;&#20540;&#26102;&#65292;&#22914;&#26524;&#36825;&#20123;&#29305;&#27530;&#25104;&#21592;&#20989;&#25968;&#21487;&#20197;&#35775;&#38382;&#65292;&#23601;&#20250;&#35843;&#29992;&#23427;&#20204;&#65292;&#24182;&#19988;&#22914;&#26524;&#23427;&#20204;&#27809;&#26377;&#34987;&#29992;&#25143;&#23450;&#20041;&#65292;&#37027;&#20040;&#23427;&#20204;&#23601;&#20250;&#34987;&#32534;&#35793;&#22120;&#38544;&#24335;&#23450;&#20041;&#12290;</p>
<p>&#22914;&#26524;&#31867;<a href="cpp-language-raii.html">&#31649;&#29702;&#30340;&#36164;&#28304;</a>&#30340;&#21477;&#26564;&#26159;&#20010;&#38750;&#31867;&#31867;&#22411;&#23545;&#35937;&#65288;&#21407;&#22987;&#25351;&#38024;&#12289;POSIX &#25991;&#20214;&#25551;&#36848;&#31526;&#31561;&#65289;&#65292;&#20854;&#26512;&#26500;&#20989;&#25968;&#19981;&#25191;&#34892;&#20219;&#20309;&#25805;&#20316;&#65292;&#19988;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;/&#36171;&#20540;&#36816;&#31639;&#31526;&#36827;&#34892;&ldquo;&#27973;&#22797;&#21046;&rdquo;&#65288;&#22797;&#21046;&#21477;&#26564;&#30340;&#20540;&#65292;&#32780;&#19981;&#22797;&#21046;&#24213;&#23618;&#36164;&#28304;&#65289;&#65292;&#21017;&#19981;&#24212;&#20351;&#29992;&#38544;&#24335;&#23450;&#20041;&#30340;&#29305;&#27530;&#25104;&#21592;&#20989;&#25968;&#12290;</p>
<div class="t-example">
<div class="t-example-live-link"></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="co2">#include &lt;cstddef&gt;</span>
<span class="co2">#include &lt;cstring&gt;</span>
<span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;utility&gt;</span>
 
<span class="kw1">class</span> rule_of_three
<span class="br0">{</span>
    <span class="kw4">char</span><span class="sy2">*</span> cstring<span class="sy4">;</span> <span class="co1">// &#20197;&#35064;&#25351;&#38024;&#20026;&#21160;&#24577;&#20998;&#37197;&#20869;&#23384;&#30340;&#21477;&#26564;</span>
 
<span class="kw1">public</span><span class="sy4">:</span>
    <span class="kw1">explicit</span> rule_of_three<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> s <span class="sy1">=</span> <span class="st0">&quot;&quot;</span><span class="br0">)</span> <span class="sy4">:</span> cstring<span class="br0">(</span>nullptr<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span>s<span class="br0">)</span>
        <span class="br0">{</span>
            cstring <span class="sy1">=</span> new <span class="kw4">char</span><span class="br0">[</span><a href="cpp-string-byte-strlen.html"><span class="kw1148">std::<span class="me2">strlen</span></span></a><span class="br0">(</span>s<span class="br0">)</span> <span class="sy2">+</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// &#20998;&#37197;</span>
            <a href="cpp-string-byte-strcpy.html"><span class="kw1143">std::<span class="me2">strcpy</span></span></a><span class="br0">(</span>cstring, s<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#22635;&#20805;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
 
    ~rule_of_three<span class="br0">(</span><span class="br0">)</span> <span class="co1">// I. &#26512;&#26500;&#20989;&#25968;</span>
    <span class="br0">{</span>
        delete<span class="br0">[</span><span class="br0">]</span> cstring<span class="sy4">;</span> <span class="co1">// &#35299;&#20998;&#37197;</span>
    <span class="br0">}</span>
 
    rule_of_three<span class="br0">(</span><span class="kw4">const</span> rule_of_three<span class="sy3">&amp;</span> other<span class="br0">)</span> <span class="co1">// II. &#22797;&#21046;&#26500;&#36896;&#20989;&#25968;</span>
        <span class="sy4">:</span> rule_of_three<span class="br0">(</span>other.<span class="me1">cstring</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
 
    rule_of_three<span class="sy3">&amp;</span> operator<span class="sy1">=</span><span class="br0">(</span><span class="kw4">const</span> rule_of_three<span class="sy3">&amp;</span> other<span class="br0">)</span> <span class="co1">// III. &#22797;&#21046;&#36171;&#20540;</span>
    <span class="br0">{</span>
        <span class="co1">// &#20026;&#31616;&#27905;&#37319;&#29992;&#22797;&#21046;&#21518;&#20132;&#25442;&#65288;copy-and-swap&#65289;&#25163;&#27861;&#23454;&#29616;</span>
        <span class="co1">// &#27880;&#24847;&#36825;&#26679;&#20570;&#22952;&#30861;&#28508;&#22312;&#30340;&#23384;&#20648;&#37325;&#29992;</span>
        rule_of_three temp<span class="br0">(</span>other<span class="br0">)</span><span class="sy4">;</span>
        <a href="cpp-algorithm-swap.html"><span class="kw1603">std::<span class="me2">swap</span></span></a><span class="br0">(</span>cstring, temp.<span class="me1">cstring</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">return</span> <span class="sy2">*</span>this<span class="sy4">;</span>
    <span class="br0">}</span>
 
    <span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> c_str<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span> <span class="co1">// &#35775;&#38382;&#22120;</span>
    <span class="br0">{</span>
        <span class="kw1">return</span> cstring<span class="sy4">;</span>
    <span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    rule_of_three o1<span class="br0">{</span><span class="st0">&quot;abc&quot;</span><span class="br0">}</span><span class="sy4">;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> o1.<span class="me1">c_str</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39; &#39;</span><span class="sy4">;</span>
    <span class="kw4">auto</span> o2<span class="br0">{</span>o1<span class="br0">}</span><span class="sy4">;</span> <span class="co1">// II. &#20351;&#29992;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> o2.<span class="me1">c_str</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39; &#39;</span><span class="sy4">;</span>
    rule_of_three o3<span class="br0">(</span><span class="st0">&quot;def&quot;</span><span class="br0">)</span><span class="sy4">;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> o3.<span class="me1">c_str</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39; &#39;</span><span class="sy4">;</span>
    o3 <span class="sy1">=</span> o2<span class="sy4">;</span> <span class="co1">// III. &#20351;&#29992;&#36171;&#20540;&#36171;&#20540;</span>
    <a href="cpp-io-cout.html"><span class="kw1762">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> o3.<span class="me1">c_str</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">&#39;<span class="es1">\n</span>&#39;</span><span class="sy4">;</span>
<span class="br0">}</span>   <span class="co1">// I. &#27492;&#22788;&#35843;&#29992;&#25152;&#26377;&#26512;&#26500;&#20989;&#25968;</span></pre></div>
</div>
<p>&#36755;&#20986;&#65306;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="text source-text">
<pre class="de1">abc abc def abc</pre></div>
</div>
</div>
<p>&#36890;&#36807;&#21487;&#22797;&#21046;&#21477;&#26564;&#26469;&#31649;&#29702;&#19981;&#21487;&#22797;&#21046;&#36164;&#28304;&#30340;&#31867;&#65292;&#21487;&#33021;&#24517;&#39035;&#23558;&#23427;&#30340;&#22797;&#21046;&#36171;&#20540;&#21644;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;&#22768;&#26126;&#20026; <span class="mw-geshi cpp source-cpp"><span class="kw1">private</span></span> &#24182;&#19988;&#19981;&#25552;&#20379;&#23427;&#20204;&#30340;&#23450;&#20041;&#65292;&#25110;&#23558;&#23427;&#20204;&#23450;&#20041;&#20026;&#24323;&#32622;&#30340;&#12290;&#36825;&#26159;&#19977;&#21407;&#21017;&#30340;&#21478;&#19968;&#31181;&#24212;&#29992;&#65306;&#21482;&#21024;&#38500;&#20854;&#19968;&#21364;&#20219;&#30001;&#20854;&#20182;&#29305;&#27530;&#25104;&#21592;&#34987;&#38544;&#24335;&#23450;&#20041;&#24456;&#21487;&#33021;&#20250;&#23548;&#33268;&#38169;&#35823;&#12290; &#36890;&#36807;&#21487;&#22797;&#21046;&#30340;&#21477;&#26564;&#31649;&#29702;&#19981;&#21487;&#22797;&#21046;&#36164;&#28304;&#30340;&#31867;&#21487;&#33021;&#24517;&#39035;<span class="t-rev-inl t-until-cxx11"><span>&#22768;&#26126;&#22797;&#21046;&#36171;&#20540;&#21644;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;&#20026; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">private</span></span></span> &#24182;&#19981;&#25552;&#20379;&#23427;&#20204;&#30340;&#23450;&#20041;</span><span><span class="t-mark-rev t-until-cxx11" style="white-space: nowrap;">(C++11 &#21069;)</span></span></span><span class="t-rev-inl t-since-cxx11"><span>&#23450;&#20041;&#22797;&#21046;&#36171;&#20540;&#21644;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;&#20026; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">=</span> delete</span></span></span><span><span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11 &#36215;)</span></span></span>&#12290;&#36825;&#20063;&#26159;&ldquo;&#19977;&#21407;&#21017;&rdquo;&#30340;&#21478;&#19968;&#31181;&#24212;&#29992;&#65306;&#21024;&#38500;&#20854;&#20013;&#19968;&#20010;&#32780;&#35753;&#21478;&#19968;&#20010;&#38544;&#24335;&#23450;&#20041;&#65292;&#36890;&#24120;&#19981;&#27491;&#30830;&#12290;</p>
<h3><span class="mw-headline" id=".E4.BA.94.E5.8E.9F.E5.88.99">&#20116;&#21407;&#21017;</span></h3>
<p>&#22240;&#20026;&#29992;&#25143;&#23450;&#20041;&#65288;&#21253;&#25324; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">=</span> <span class="kw1">default</span></span></span> &#25110; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">=</span> delete</span></span>&#65289;&#30340;&#26512;&#26500;&#20989;&#25968;&#12289;&#22797;&#21046;&#26500;&#36896;&#20989;&#25968;&#25110;&#22797;&#21046;&#36171;&#20540;&#36816;&#31639;&#31526;&#65292;&#20250;&#38459;&#27490;&#38544;&#24335;&#23450;&#20041;<a href="cpp-language-move_constructor.html">&#31227;&#21160;&#26500;&#36896;&#20989;&#25968;</a>&#21644;<a href="cpp-language-move_assignment.html">&#31227;&#21160;&#36171;&#20540;&#36816;&#31639;&#31526;</a>&#65292;&#25152;&#20197;&#20219;&#20309;&#24819;&#35201;&#31227;&#21160;&#35821;&#20041;&#30340;&#31867;&#24517;&#39035;&#22768;&#26126;&#20840;&#37096;&#20116;&#20010;&#29305;&#27530;&#25104;&#21592;&#20989;&#25968;&#65306;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">class</span> rule_of_five
<span class="br0">{</span>
    <span class="kw4">char</span><span class="sy2">*</span> cstring<span class="sy4">;</span> <span class="co1">// &#20197;&#35064;&#25351;&#38024;&#20026;&#21160;&#24577;&#20998;&#37197;&#20869;&#23384;&#30340;&#21477;&#26564;</span>
<span class="kw1">public</span><span class="sy4">:</span>
    <span class="kw1">explicit</span> rule_of_five<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> s <span class="sy1">=</span> <span class="st0">&quot;&quot;</span><span class="br0">)</span> <span class="sy4">:</span> cstring<span class="br0">(</span>nullptr<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span>s<span class="br0">)</span>
        <span class="br0">{</span>
            cstring <span class="sy1">=</span> new <span class="kw4">char</span><span class="br0">[</span><a href="cpp-string-byte-strlen.html"><span class="kw1148">std::<span class="me2">strlen</span></span></a><span class="br0">(</span>s<span class="br0">)</span> <span class="sy2">+</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// &#20998;&#37197;</span>
            <a href="cpp-string-byte-strcpy.html"><span class="kw1143">std::<span class="me2">strcpy</span></span></a><span class="br0">(</span>cstring, s<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#22635;&#20805;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
 
    ~rule_of_five<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        delete<span class="br0">[</span><span class="br0">]</span> cstring<span class="sy4">;</span> <span class="co1">// &#35299;&#20998;&#37197;</span>
    <span class="br0">}</span>
 
    rule_of_five<span class="br0">(</span><span class="kw4">const</span> rule_of_five<span class="sy3">&amp;</span> other<span class="br0">)</span> <span class="co1">// &#22797;&#21046;&#26500;&#36896;&#20989;&#25968;</span>
        <span class="sy4">:</span> rule_of_five<span class="br0">(</span>other.<span class="me1">cstring</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
 
    rule_of_five<span class="br0">(</span>rule_of_five<span class="sy3">&amp;&amp;</span> other<span class="br0">)</span> <span class="kw1">noexcept</span> <span class="co1">// &#31227;&#21160;&#26500;&#36896;&#20989;&#25968;</span>
        <span class="sy4">:</span> cstring<span class="br0">(</span><a href="cpp-utility-exchange.html"><span class="kw1121">std::<span class="me2">exchange</span></span></a><span class="br0">(</span>other.<span class="me1">cstring</span>, nullptr<span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
 
    rule_of_five<span class="sy3">&amp;</span> operator<span class="sy1">=</span><span class="br0">(</span><span class="kw4">const</span> rule_of_five<span class="sy3">&amp;</span> other<span class="br0">)</span> <span class="co1">// &#22797;&#21046;&#36171;&#20540;</span>
    <span class="br0">{</span>
        <span class="co1">// &#20026;&#31616;&#20415;&#32780;&#23454;&#29616;&#20026;&#20174;&#20020;&#26102;&#21103;&#26412;&#31227;&#21160;&#36171;&#20540;</span>
        <span class="co1">// &#27880;&#24847;&#36825;&#26679;&#20570;&#22952;&#30861;&#20102;&#28508;&#22312;&#30340;&#23384;&#20648;&#37325;&#29992;</span>
        <span class="kw1">return</span> <span class="sy2">*</span>this <span class="sy1">=</span> rule_of_five<span class="br0">(</span>other<span class="br0">)</span><span class="sy4">;</span>
    <span class="br0">}</span>
 
    rule_of_five<span class="sy3">&amp;</span> operator<span class="sy1">=</span><span class="br0">(</span>rule_of_five<span class="sy3">&amp;&amp;</span> other<span class="br0">)</span> <span class="kw1">noexcept</span> <span class="co1">// &#31227;&#21160;&#36171;&#20540;</span>
    <span class="br0">{</span>
        <a href="cpp-algorithm-swap.html"><span class="kw1603">std::<span class="me2">swap</span></span></a><span class="br0">(</span>cstring, other.<span class="me1">cstring</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">return</span> <span class="sy2">*</span>this<span class="sy4">;</span>
    <span class="br0">}</span>
 
<span class="co1">// &#27492;&#22806;&#65292;&#36824;&#21487;&#20197;&#23558;&#20004;&#20010;&#36171;&#20540;&#36816;&#31639;&#31526;&#37117;&#25913;&#20026;&#22797;&#21046;&#21518;&#20132;&#25442;&#65288;copy-and-swap&#65289;&#23454;&#29616;&#65292;</span>
<span class="co1">// &#36825;&#26679;&#20570;&#20173;&#20250;&#26080;&#27861;&#22312;&#22797;&#21046;&#36171;&#20540;&#20013;&#37325;&#29992;&#23384;&#20648;&#12290;</span>
<span class="co1">//  rule_of_five&amp; operator=(rule_of_five other) noexcept</span>
<span class="co1">//  {</span>
<span class="co1">//      std::swap(cstring, other.cstring);</span>
<span class="co1">//      return *this;</span>
<span class="co1">//  }</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div>
</div>
<p>&#19982;&#19977;&#21407;&#21017;&#19981;&#21516;&#30340;&#26159;&#65292;&#19981;&#25552;&#20379;&#31227;&#21160;&#26500;&#36896;&#20989;&#25968;&#21644;&#31227;&#21160;&#36171;&#20540;&#36816;&#31639;&#31526;&#36890;&#24120;&#19981;&#26159;&#38169;&#35823;&#65292;&#32780;&#21482;&#26159;&#38169;&#36807;&#20102;&#20248;&#21270;&#26426;&#20250;&#12290;</p>
<h3><span class="mw-headline" id=".E9.9B.B6.E5.8E.9F.E5.88.99">&#38646;&#21407;&#21017;</span></h3>
<p>&#26377;&#33258;&#23450;&#20041;&#26512;&#26500;&#20989;&#25968;&#12289;&#22797;&#21046;/&#31227;&#21160;&#26500;&#36896;&#20989;&#25968;&#25110;&#22797;&#21046;/&#31227;&#21160;&#36171;&#20540;&#36816;&#31639;&#31526;&#30340;&#31867;&#24212;&#35813;&#19987;&#38376;&#22788;&#29702;&#25152;&#26377;&#26435;&#65288;&#36825;&#36981;&#24490;<a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" class="extiw" title="enwiki:Single responsibility principle">&#21333;&#19968;&#36131;&#20219;&#21407;&#21017;</a>&#65289;&#12290;&#20854;&#20182;&#31867;&#37117;&#19981;&#24212;&#35813;&#25317;&#26377;&#33258;&#23450;&#20041;&#30340;&#26512;&#26500;&#20989;&#25968;&#12289;&#22797;&#21046;/&#31227;&#21160;&#26500;&#36896;&#20989;&#25968;&#25110;&#22797;&#21046;/&#31227;&#21160;&#36171;&#20540;&#36816;&#31639;&#31526;<sup id="cite_ref-1" class="reference"><a href="cpp-language-rule_of_three.html#cite_note-1">[1]</a></sup></p>
<p>&#36825;&#26465;&#21407;&#21017;&#20063;&#22312; C++ &#26680;&#24515;&#25351;&#21335;&#65288;C++ Core Guidelines&#65289;&#20013;&#20986;&#29616;&mdash;&mdash; <a rel="nofollow" class="external text" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-zero">C.20&#65306;&#22914;&#26524;&#21487;&#20197;&#36991;&#20813;&#23450;&#20041;&#40664;&#35748;&#25805;&#20316;&#65292;&#23601;&#19981;&#35201;&#23450;&#20041;&#23427;&#20204;</a>&#12290;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">class</span> rule_of_zero
<span class="br0">{</span>
    <a href="cpp-string-basic_string.html"><span class="kw1233">std::<span class="me2">string</span></span></a> cppstring<span class="sy4">;</span>
<span class="kw1">public</span><span class="sy4">:</span>
    rule_of_zero<span class="br0">(</span><span class="kw4">const</span> <a href="cpp-string-basic_string.html"><span class="kw1233">std::<span class="me2">string</span></span></a><span class="sy3">&amp;</span> arg<span class="br0">)</span> <span class="sy4">:</span> cppstring<span class="br0">(</span>arg<span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div>
</div>
<p>&#24403;&#26377;&#24847;&#23558;&#26576;&#20010;&#22522;&#31867;&#29992;&#20110;&#22810;&#24577;&#29992;&#36884;&#26102;&#65292;&#21487;&#33021;&#38656;&#35201;&#23558;&#23427;&#30340;&#26512;&#26500;&#20989;&#25968;&#22768;&#26126;&#20026; <span class="mw-geshi cpp source-cpp"><span class="kw1">public</span></span> &#21644; <span class="mw-geshi cpp source-cpp"><span class="kw1">virtual</span></span>&#12290;&#30001;&#20110;&#36825;&#20250;&#38459;&#27490;&#29983;&#25104;&#38544;&#24335;&#31227;&#21160;&#65288;&#24182;&#24323;&#29992;&#38544;&#24335;&#22797;&#21046;&#65289;&#65292;&#22240;&#27492;&#24517;&#39035;&#23558;&#21508;&#29305;&#27530;&#25104;&#21592;&#20989;&#25968;&#23450;&#20041;&#20026; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">=</span> <span class="kw1">default</span></span></span><sup id="cite_ref-2" class="reference"><a href="cpp-language-rule_of_three.html#cite_note-2">[2]</a></sup>&#12290;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">class</span> base_of_five_defaults
<span class="br0">{</span>
<span class="kw1">public</span><span class="sy4">:</span>
    base_of_five_defaults<span class="br0">(</span><span class="kw4">const</span> base_of_five_defaults<span class="sy3">&amp;</span><span class="br0">)</span> <span class="sy1">=</span> <span class="kw1">default</span><span class="sy4">;</span>
    base_of_five_defaults<span class="br0">(</span>base_of_five_defaults<span class="sy3">&amp;&amp;</span><span class="br0">)</span> <span class="sy1">=</span> <span class="kw1">default</span><span class="sy4">;</span>
    base_of_five_defaults<span class="sy3">&amp;</span> operator<span class="sy1">=</span><span class="br0">(</span><span class="kw4">const</span> base_of_five_defaults<span class="sy3">&amp;</span><span class="br0">)</span> <span class="sy1">=</span> <span class="kw1">default</span><span class="sy4">;</span>
    base_of_five_defaults<span class="sy3">&amp;</span> operator<span class="sy1">=</span><span class="br0">(</span>base_of_five_defaults<span class="sy3">&amp;&amp;</span><span class="br0">)</span> <span class="sy1">=</span> <span class="kw1">default</span><span class="sy4">;</span>
    <span class="kw1">virtual</span> ~base_of_five_defaults<span class="br0">(</span><span class="br0">)</span> <span class="sy1">=</span> <span class="kw1">default</span><span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div>
</div>
<p>&#28982;&#32780;&#36825;&#20351;&#24471;&#31867;&#26377;&#21487;&#33021;&#34987;&#20999;&#29255;&#65292;&#36825;&#26159;&#22810;&#24577;&#31867;&#32463;&#24120;&#25226;&#22797;&#21046;&#23450;&#20041; <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">=</span> delete</span></span> &#30340;&#21407;&#22240;&#65288;&#35265; C++ &#26680;&#24515;&#25351;&#21335;&#20013;&#30340; <a rel="nofollow" class="external text" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-copy-virtual">C.67&#65306;&#22810;&#24577;&#31867;&#24212;&#35813;&#25233;&#21046;&#22797;&#21046;&#25805;&#20316;</a>&#65289;&#65292;&#36825;&#24102;&#26469;&#20102;&#19979;&#21015;&#30340;&#20116;&#21407;&#21017;&#30340;&#36890;&#29992;&#35828;&#27861;&#65306;</p>
<dl>
<dd><a rel="nofollow" class="external text" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-five">C.21&#65306;&#22914;&#26524;&#20320;&#23450;&#20041;&#25110; =delete &#20219;&#20309;&#22797;&#21046;&#12289;&#31227;&#21160;&#25110;&#26512;&#26500;&#20989;&#25968;&#65292;&#21017;&#23450;&#20041;&#25110; =delete &#23427;&#20204;&#20840;&#37096;</a></dd>
</dl>
<h3><span class="mw-headline" id=".E5.A4.96.E9.83.A8.E9.93.BE.E6.8E.A5">&#22806;&#37096;&#38142;&#25509;</span></h3>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="cpp-language-rule_of_three.html#cite_ref-1">&uarr;</a></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://web.archive.org/web/20130211035910/http://flamingdangerzone.com/cxx11/2012/08/15/rule-of-zero.html">&ldquo;&#38646;&#21407;&#21017;&rdquo;&#65292;R. Martinho Fernandes 8/15/2012</a></span></li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="cpp-language-rule_of_three.html#cite_ref-2">&uarr;</a></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://scottmeyers.blogspot.fr/2014/03/a-concern-about-rule-of-zero.html">&ldquo;&#20851;&#20110;&#38646;&#21407;&#21017;&#30340;&#32771;&#34385;&rdquo;&#65292;Scott Meyers, 3/13/2014</a></span></li>
</ol>
</div>
<div class="visualClear"></div>
</div>
</div>
</div>
</body>
</html>
