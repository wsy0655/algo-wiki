<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head><meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>&#26631;&#20934;&#24211;&#26631;&#22836; &lt;strstream&gt;&nbsp;(C++98 &#24323;&#29992;)(C++26 &#31227;&#38500;)</title>
<link rel="stylesheet" href="ext.css" />
<link rel="stylesheet" href="site_modules.css" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_header_strstream skin-cppreference2 action-view cpp-navbar">
<div id="cpp-content-base">
<div id="content"><a id="top"></a>
<h1 id="firstHeading" class="firstHeading"><span style="font-size:0.8em; line-height:125%">&#26631;&#20934;&#24211;&#26631;&#22836;</span> &lt;strstream&gt;&nbsp;<span class="t-mark-rev t-deprecated-cxx98" style="white-space: nowrap;">(C++98 &#24323;&#29992;)</span><span class="t-mark-rev t-until-cxx26" style="white-space: nowrap;">(C++26 &#31227;&#38500;)</span></h1>
<div id="bodyContent">
<div id="contentSub"><span class="subpages">&lt; <a href="cpp.html">cpp</a>&lrm; | <a href="cpp-header.html">header</a></span></div>
<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr" xml:lang="zh">
<p><br /></p>
<p>&#27492;&#22836;&#25991;&#20214;&#26159;<a href="cpp-io.html">&#36755;&#20837;/&#36755;&#20986;</a>&#24211;&#30340;&#19968;&#37096;&#20998;&#12290;</p>
<table class="t-dsc-begin">
<tr>
<td colspan="2">
<h3><span class="mw-headline" id=".E7.B1.BB">&#31867;</span></h3>
</td>
</tr>
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-io-strstreambuf.html"><span class="t-lines"><span>strstreambuf</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-deprecated-cxx98" style="white-space: nowrap;">(C++98 &#24323;&#29992;)</span></span><span><span class="t-mark-rev t-until-cxx26" style="white-space: nowrap;">(C++26 &#31227;&#38500;)</span></span></span></div>
</div>
</td>
<td>&#23454;&#29616;&#21407;&#29983;&#23383;&#31526;&#25968;&#32452;&#35774;&#22791;<br />
<span class="t-mark" style="white-space: nowrap;">(&#31867;)</span></td>
</tr>
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-io-istrstream.html"><span class="t-lines"><span>istrstream</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-deprecated-cxx98" style="white-space: nowrap;">(C++98 &#24323;&#29992;)</span></span><span><span class="t-mark-rev t-until-cxx26" style="white-space: nowrap;">(C++26 &#31227;&#38500;)</span></span></span></div>
</div>
</td>
<td>&#23454;&#29616;&#23383;&#31526;&#25968;&#32452;&#36755;&#20837;&#25805;&#20316;<br />
<span class="t-mark" style="white-space: nowrap;">(&#31867;)</span></td>
</tr>
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-io-ostrstream.html"><span class="t-lines"><span>ostrstream</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-deprecated-cxx98" style="white-space: nowrap;">(C++98 &#24323;&#29992;)</span></span><span><span class="t-mark-rev t-until-cxx26" style="white-space: nowrap;">(C++26 &#31227;&#38500;)</span></span></span></div>
</div>
</td>
<td>&#23454;&#29616;&#23383;&#31526;&#25968;&#32452;&#36755;&#20986;&#25805;&#20316;<br />
<span class="t-mark" style="white-space: nowrap;">(&#31867;)</span></td>
</tr>
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-io-strstream.html"><span class="t-lines"><span>strstream</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-deprecated-cxx98" style="white-space: nowrap;">(C++98 &#24323;&#29992;)</span></span><span><span class="t-mark-rev t-until-cxx26" style="white-space: nowrap;">(C++26 &#31227;&#38500;)</span></span></span></div>
</div>
</td>
<td>&#23454;&#29616;&#23383;&#31526;&#25968;&#32452;&#36755;&#20837;/&#36755;&#20986;&#25805;&#20316;<br />
<span class="t-mark" style="white-space: nowrap;">(&#31867;)</span></td>
</tr>
</table>
<h3><span class="mw-headline" id=".E6.B3.A8.E8.A7.A3">&#27880;&#35299;</span></h3>
<p><strong class="selflink"><tt>&lt;strstream&gt;</tt></strong> &#20110; C++98 &#20013;&#24323;&#29992;&#24182;&#20110; C++26 &#20013;&#31227;&#38500;&#65288;&#35265; <a rel="nofollow" class="external text" href="https://wg21.link/P2867R1">P2867R1</a>&#65289;&#12290;</p>
<p>&#31227;&#38500;&#23427;&#30340;&#29702;&#30001;&#26159; C++20 &#21644; C++23 &#24050;&#25552;&#20379;&#20102;&#26356;&#22909;&#30340;&#26367;&#20195;&#35774;&#26045;&#65292;&#27604;&#22914;&#20174; <span class="t-lc"><a href="cpp-io-basic_stringstream.html">std::stringstream</a></span> &#20013;&#39640;&#25928;&#31227;&#20986;&#23383;&#31526;&#20018;&#30340;&#33021;&#21147;&#65288;C++20 &#36215;&#25552;&#20379;&#65292;&#35265; <a rel="nofollow" class="external text" href="https://wg21.link/P0408R7">P0408R7</a>&#65289;&#65292;&#20197;&#21450; <a href="cpp-header-spanstream.html"><tt>&lt;spanstream&gt;</tt></a> &#24211;&#65288;C++23 &#36215;&#25552;&#20379;&#65292;&#35265; <a rel="nofollow" class="external text" href="https://wg21.link/P0448R4">P0448R4</a>&#65289;&#12290;</p>
<h3><span class="mw-headline" id=".E6.A6.82.E8.A6.81">&#27010;&#35201;</span></h3>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">namespace</span> std <span class="br0">{</span>
  <span class="kw1">class</span> strstreambuf<span class="sy4">;</span>
  <span class="kw1">class</span> istrstream<span class="sy4">;</span>
  <span class="kw1">class</span> ostrstream<span class="sy4">;</span>
  <span class="kw1">class</span> strstream<span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<h4><span class="mw-headline" id=".E7.B1.BB_std::strstreambuf">&#31867; <span class="t-lc"><a href="cpp-io-strstreambuf.html">std::strstreambuf</a></span></span></h4>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">namespace</span> std <span class="br0">{</span>
  <span class="kw1">class</span> strstreambuf <span class="sy4">:</span> <span class="kw1">public</span> basic_streambuf<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span> <span class="br0">{</span>
  <span class="kw1">public</span><span class="sy4">:</span>
    strstreambuf<span class="br0">(</span><span class="br0">)</span> <span class="sy4">:</span> strstreambuf<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
    <span class="kw1">explicit</span> strstreambuf<span class="br0">(</span>streamsize alsize_arg<span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">void</span><span class="sy2">*</span> <span class="br0">(</span><span class="sy2">*</span>palloc_arg<span class="br0">)</span><span class="br0">(</span>size_t<span class="br0">)</span>, <span class="kw4">void</span> <span class="br0">(</span><span class="sy2">*</span>pfree_arg<span class="br0">)</span><span class="br0">(</span><span class="kw4">void</span><span class="sy2">*</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n, <span class="kw4">char</span><span class="sy2">*</span> pbeg_arg <span class="sy1">=</span> nullptr<span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n<span class="br0">)</span><span class="sy4">;</span>
 
    strstreambuf<span class="br0">(</span><span class="kw4">signed</span> <span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n,
                 <span class="kw4">signed</span> <span class="kw4">char</span><span class="sy2">*</span> pbeg_arg <span class="sy1">=</span> nullptr<span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">signed</span> <span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n<span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">unsigned</span> <span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n,
                 <span class="kw4">unsigned</span> <span class="kw4">char</span><span class="sy2">*</span> pbeg_arg <span class="sy1">=</span> nullptr<span class="br0">)</span><span class="sy4">;</span>
    strstreambuf<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">unsigned</span> <span class="kw4">char</span><span class="sy2">*</span> gnext_arg, streamsize n<span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw1">virtual</span> ~strstreambuf<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw4">void</span>  freeze<span class="br0">(</span><span class="kw4">bool</span> freezefl <span class="sy1">=</span> <span class="kw2">true</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">char</span><span class="sy2">*</span> str<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">int</span>   pcount<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw1">protected</span><span class="sy4">:</span>
    int_type overflow <span class="br0">(</span>int_type c <span class="sy1">=</span> <a href="cpp-io-c.html"><span class="kw1886">EOF</span></a><span class="br0">)</span> override<span class="sy4">;</span>
    int_type pbackfail<span class="br0">(</span>int_type c <span class="sy1">=</span> <a href="cpp-io-c.html"><span class="kw1886">EOF</span></a><span class="br0">)</span> override<span class="sy4">;</span>
    int_type underflow<span class="br0">(</span><span class="br0">)</span> override<span class="sy4">;</span>
    pos_type seekoff<span class="br0">(</span>off_type off, ios_base<span class="sy4">::</span><span class="me2">seekdir</span> way,
                     ios_base<span class="sy4">::</span><span class="me2">openmode</span> which <span class="sy1">=</span> ios_base<span class="sy4">::</span><span class="me2">in</span> <span class="sy3">|</span> ios_base<span class="sy4">::</span><span class="me2">out</span><span class="br0">)</span> override<span class="sy4">;</span>
    pos_type seekpos<span class="br0">(</span>pos_type sp,
                     ios_base<span class="sy4">::</span><span class="me2">openmode</span> which <span class="sy1">=</span> ios_base<span class="sy4">::</span><span class="me2">in</span> <span class="sy3">|</span> ios_base<span class="sy4">::</span><span class="me2">out</span><span class="br0">)</span> override<span class="sy4">;</span>
    streambuf<span class="sy2">*</span> setbuf<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> s, streamsize n<span class="br0">)</span> override<span class="sy4">;</span>
 
  <span class="kw1">private</span><span class="sy4">:</span>
    <span class="kw1">using</span> strstate <span class="sy1">=</span> <span class="coMULTI">/*&#20301;&#25513;&#30721;&#31867;&#22411;*/</span><span class="sy4">;</span>      <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">static</span> <span class="kw4">const</span> strstate allocated<span class="sy4">;</span>    <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">static</span> <span class="kw4">const</span> strstate constant<span class="sy4">;</span>     <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">static</span> <span class="kw4">const</span> strstate dynamic<span class="sy4">;</span>      <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">static</span> <span class="kw4">const</span> strstate frozen<span class="sy4">;</span>       <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    strstate strmode<span class="sy4">;</span>                   <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    streamsize alsize<span class="sy4">;</span>                  <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">void</span><span class="sy2">*</span> <span class="br0">(</span><span class="sy2">*</span>palloc<span class="br0">)</span><span class="br0">(</span>size_t<span class="br0">)</span><span class="sy4">;</span>            <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
    <span class="kw4">void</span> <span class="br0">(</span><span class="sy2">*</span>pfree<span class="br0">)</span><span class="br0">(</span><span class="kw4">void</span><span class="sy2">*</span><span class="br0">)</span><span class="sy4">;</span>               <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
  <span class="br0">}</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<h4><span class="mw-headline" id=".E7.B1.BB_std::istrstream">&#31867; <span class="t-lc"><a href="cpp-io-istrstream.html">std::istrstream</a></span></span></h4>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">namespace</span> std <span class="br0">{</span>
  <span class="kw1">class</span> istrstream <span class="sy4">:</span> <span class="kw1">public</span> basic_istream<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span> <span class="br0">{</span>
  <span class="kw1">public</span><span class="sy4">:</span>
    <span class="kw1">explicit</span> istrstream<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> s<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">explicit</span> istrstream<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> s<span class="br0">)</span><span class="sy4">;</span>
    istrstream<span class="br0">(</span><span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> s, streamsize n<span class="br0">)</span><span class="sy4">;</span>
    istrstream<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> s, streamsize n<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">virtual</span> ~istrstream<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
    strstreambuf<span class="sy2">*</span> rdbuf<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="kw4">char</span><span class="sy2">*</span> str<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw1">private</span><span class="sy4">:</span>
    strstreambuf sb<span class="sy4">;</span>            <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
  <span class="br0">}</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<h4><span class="mw-headline" id=".E7.B1.BB_std::ostrstream">&#31867; <span class="t-lc"><a href="cpp-io-ostrstream.html">std::ostrstream</a></span></span></h4>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">namespace</span> std <span class="br0">{</span>
  <span class="kw1">class</span> ostrstream <span class="sy4">:</span> <span class="kw1">public</span> basic_ostream<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span> <span class="br0">{</span>
  <span class="kw1">public</span><span class="sy4">:</span>
    ostrstream<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    ostrstream<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> s, <span class="kw4">int</span> n, ios_base<span class="sy4">::</span><span class="me2">openmode</span> mode <span class="sy1">=</span> ios_base<span class="sy4">::</span><span class="me2">out</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">virtual</span> ~ostrstream<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
    strstreambuf<span class="sy2">*</span> rdbuf<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="kw4">void</span> freeze<span class="br0">(</span><span class="kw4">bool</span> freezefl <span class="sy1">=</span> <span class="kw2">true</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">char</span><span class="sy2">*</span> str<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">int</span> pcount<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span><span class="sy4">;</span>
  <span class="kw1">private</span><span class="sy4">:</span>
    strstreambuf sb<span class="sy4">;</span>            <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
  <span class="br0">}</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<h4><span class="mw-headline" id=".E7.B1.BB_std::strstream">&#31867; <span class="t-lc"><a href="cpp-io-strstream.html">std::strstream</a></span></span></h4>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="kw1">namespace</span> std <span class="br0">{</span>
  <span class="kw1">class</span> strstream
    <span class="sy4">:</span> <span class="kw1">public</span> basic_iostream<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span> <span class="br0">{</span>
  <span class="kw1">public</span><span class="sy4">:</span>
    <span class="co1">// &#31867;&#22411;</span>
    <span class="kw1">using</span> char_type <span class="sy1">=</span> <span class="kw4">char</span><span class="sy4">;</span>
    <span class="kw1">using</span> int_type  <span class="sy1">=</span> char_traits<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">int_type</span><span class="sy4">;</span>
    <span class="kw1">using</span> pos_type  <span class="sy1">=</span> char_traits<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">pos_type</span><span class="sy4">;</span>
    <span class="kw1">using</span> off_type  <span class="sy1">=</span> char_traits<span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">off_type</span><span class="sy4">;</span>
 
    <span class="co1">// &#26500;&#36896;&#20989;&#25968;/&#26512;&#26500;&#20989;&#25968;</span>
    strstream<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    strstream<span class="br0">(</span><span class="kw4">char</span><span class="sy2">*</span> s, <span class="kw4">int</span> n,
              ios_base<span class="sy4">::</span><span class="me2">openmode</span> mode <span class="sy1">=</span> ios_base<span class="sy4">::</span><span class="me2">in</span> <span class="sy3">|</span> ios_base<span class="sy4">::</span><span class="me2">out</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">virtual</span> ~strstream<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
    <span class="co1">// &#25104;&#21592;</span>
    strstreambuf<span class="sy2">*</span> rdbuf<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="kw4">void</span> freeze<span class="br0">(</span><span class="kw4">bool</span> freezefl <span class="sy1">=</span> <span class="kw2">true</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">int</span> pcount<span class="br0">(</span><span class="br0">)</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="kw4">char</span><span class="sy2">*</span> str<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
 
  <span class="kw1">private</span><span class="sy4">:</span>
    strstreambuf sb<span class="sy4">;</span>            <span class="co1">// &#20165;&#29992;&#20110;&#38416;&#37322;</span>
  <span class="br0">}</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
</div>
<div class="visualClear"></div>
</div>
</div>
</div>
</body>
</html>
