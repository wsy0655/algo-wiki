<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head><meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>std::filesystem::copy_options</title>
<link rel="stylesheet" href="ext.css" />
<link rel="stylesheet" href="site_modules.css" />
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_filesystem_copy_options skin-cppreference2 action-view cpp-navbar">
<div id="cpp-content-base">
<div id="content"><a id="top"></a>
<h1 id="firstHeading" class="firstHeading"><span style="font-size:0.8em; line-height:125%">std::filesystem::</span>copy_options</h1>
<div id="bodyContent">
<div id="contentSub"><span class="subpages">&lt; <a href="cpp.html">cpp</a>&lrm; | <a href="cpp-filesystem.html">filesystem</a></span></div>
<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr" xml:lang="zh">
<table class="t-dcl-begin">
<tbody>
<tr class="t-dsc-header">
<td>
<div>&#22312;&#26631;&#22836; <code><a href="cpp-header-filesystem.html">&lt;filesystem&gt;</a></code> &#23450;&#20041;</div>
</td>
<td></td>
<td></td>
</tr>
<tr class="t-dcl t-since-cxx17">
<td>
<div><span class="mw-geshi cpp source-cpp"><span class="kw2">enum</span> <span class="kw1">class</span> copy_options <span class="br0">{</span><br /></span>
<p>&nbsp; &nbsp; none <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; skip_existing <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; overwrite_existing <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; update_existing <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; recursive <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; copy_symlinks <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; skip_symlinks <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; directories_only <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; create_symlinks <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span>,<br />
&nbsp; &nbsp; create_hard_links <span class="sy1">=</span> <span class="coMULTI">/* &#26410;&#25351;&#26126; */</span><br /></p>
<span class="br0">}</span><span class="sy4">;</span></div>
</td>
<td class="t-dcl-nopad"></td>
<td><span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17 &#36215;)</span></td>
</tr>
<tr class="t-dcl-sep">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>&#27492;&#31867;&#22411;&#20195;&#34920;&#25511;&#21046; <a href="cpp-filesystem-copy.html"><tt>copy()</tt></a> &#21450; <a href="cpp-filesystem-copy_file.html"><tt>copy_file()</tt></a> &#20989;&#25968;&#34892;&#20026;&#30340;&#21487;&#29992;&#36873;&#39033;&#12290;</p>
<p><code>copy_options</code> &#28385;&#36275;<a href="cpp-named_req-BitmaskType.html"><span style="font-style:italic">&#20301;&#25513;&#30721;&#31867;&#22411;</span> <span style="font-family: Georgia, &#39;DejaVu Serif&#39;, serif; font-style:italic">(BitmaskType)</span></a> &#30340;&#35268;&#23450;&#65288;&#36825;&#24847;&#21619;&#30528;&#27492;&#31867;&#22411;&#23450;&#20041;&#20102;&#25353;&#20301;&#36816;&#31639;&#31526; <span class="mw-geshi cpp source-cpp">operator<span class="sy3">&amp;</span></span>&#12289;<span class="mw-geshi cpp source-cpp">operator<span class="sy3">|</span></span>&#12289;<span class="mw-geshi cpp source-cpp">operator<span class="sy3">^</span></span>&#12289;<span class="mw-geshi cpp source-cpp">operator~</span>&#12289;<span class="mw-geshi cpp source-cpp">operator<span class="sy3">&amp;</span><span class="sy1">=</span></span>&#12289;<span class="mw-geshi cpp source-cpp">operator<span class="sy3">|</span><span class="sy1">=</span></span> &#21644; <span class="mw-geshi cpp source-cpp">operator<span class="sy3">^</span><span class="sy1">=</span></span> &#31561;&#65289;&#12290;<code>none</code> &#20195;&#34920;&#31354;&#30340;&#20301;&#25513;&#30721;&#65307;&#21035;&#30340;&#27599;&#20010;&#26522;&#20030;&#39033;&#22343;&#20195;&#34920;&#19968;&#20010;&#19981;&#21516;&#30340;&#20301;&#25513;&#30721;&#20803;&#32032;&#12290;</p>
<h3><span class="mw-headline" id=".E6.88.90.E5.91.98.E5.B8.B8.E9.87.8F">&#25104;&#21592;&#24120;&#37327;</span></h3>
<p>&#27599;&#20010;&#19979;&#21015;&#36873;&#39033;&#32452;&#20013;&#33267;&#22810;&#23384;&#22312;&#19968;&#20010;&#36873;&#39033;&#65292;&#21542;&#21017;&#22797;&#21046;&#20989;&#25968;&#30340;&#34892;&#20026;&#26410;&#23450;&#20041;&#12290;</p>
<table class="wikitable" style="text-align:left; font-size:85%; max-width:90em;">
<tr>
<th>&#25104;&#21592;&#24120;&#37327;</th>
<th>&#21547;&#20041;</th>
</tr>
<tr>
<th colspan="2">&#25991;&#20214;&#24050;&#23384;&#22312;&#26102;&#25511;&#21046; <a href="cpp-filesystem-copy_file.html"><tt>copy_file()</tt></a> &#30340;&#36873;&#39033;</th>
</tr>
<tr>
<td><code>none</code></td>
<td>&#25253;&#21578;&#38169;&#35823;&#65288;&#40664;&#35748;&#34892;&#20026;&#65289;&#12290;</td>
</tr>
<tr>
<td><code>skip_existing</code></td>
<td>&#20445;&#25345;&#26082;&#23384;&#25991;&#20214;&#65292;&#32780;&#19981;&#25253;&#21578;&#38169;&#35823;&#12290;</td>
</tr>
<tr>
<td><code>overwrite_existing</code></td>
<td>&#26367;&#25442;&#26082;&#23384;&#25991;&#20214;&#12290;</td>
</tr>
<tr>
<td><code>update_existing</code></td>
<td>&#26367;&#25442;&#26082;&#23384;&#25991;&#20214;&#65292;&#20165;&#33509;&#23427;&#26087;&#20110;&#34987;&#22797;&#21046;&#30340;&#25991;&#20214;&#12290;</td>
</tr>
<tr>
<th colspan="2">&#22312;&#23376;&#30446;&#24405;&#19978;&#25511;&#21046; <a href="cpp-filesystem-copy.html"><tt>copy()</tt></a> &#25928;&#26524;&#30340;&#36873;&#39033;</th>
</tr>
<tr>
<td><code>none</code></td>
<td>&#36339;&#36807;&#23376;&#30446;&#24405;&#65288;&#40664;&#35748;&#34892;&#20026;&#65289;&#12290;</td>
</tr>
<tr>
<td><code>recursive</code></td>
<td>&#36882;&#24402;&#22320;&#22797;&#21046;&#23376;&#30446;&#24405;&#21450;&#20854;&#20869;&#23481;&#12290;</td>
</tr>
<tr>
<th colspan="2">&#22312;&#31526;&#21495;&#38142;&#25509;&#19978;&#25511;&#21046; <a href="cpp-filesystem-copy.html"><tt>copy()</tt></a> &#25928;&#26524;&#30340;&#36873;&#39033;</th>
</tr>
<tr>
<td><code>none</code></td>
<td>&#36319;&#38543;&#31526;&#21495;&#38142;&#25509;&#65288;&#40664;&#35748;&#34892;&#20026;&#65289;&#12290;</td>
</tr>
<tr>
<td><code>copy_symlinks</code></td>
<td>&#22797;&#21046;&#31526;&#21495;&#38142;&#25509;&#20026;&#31526;&#21495;&#38142;&#25509;&#65292;&#32780;&#38750;&#20854;&#25152;&#25351;&#30340;&#25991;&#20214;&#12290;</td>
</tr>
<tr>
<td><code>skip_symlinks</code></td>
<td>&#24573;&#30053;&#31526;&#21495;&#38142;&#25509;&#12290;</td>
</tr>
<tr>
<th colspan="2">&#25511;&#21046; <a href="cpp-filesystem-copy.html"><tt>copy()</tt></a> &#25152;&#20570;&#30340;&#22797;&#21046;&#31867;&#22411;&#30340;&#36873;&#39033;</th>
</tr>
<tr>
<td><code>none</code></td>
<td>&#22797;&#21046;&#25991;&#20214;&#20869;&#23481;&#65288;&#40664;&#35748;&#34892;&#20026;&#65289;&#12290;</td>
</tr>
<tr>
<td><code>directories_only</code></td>
<td>&#22797;&#21046;&#30446;&#24405;&#32467;&#26500;&#65292;&#20294;&#19981;&#22797;&#21046;&#20219;&#20309;&#38750;&#30446;&#24405;&#25991;&#20214;&#12290;</td>
</tr>
<tr>
<td><code>create_symlinks</code></td>
<td>&#21019;&#24314;&#25351;&#21521;&#21407;&#26377;&#25991;&#20214;&#30340;&#31526;&#21495;&#38142;&#25509;&#65292;&#32780;&#19981;&#21019;&#24314;&#25991;&#20214;&#21103;&#26412;&#12290;&#27880;&#24847;&#65306;&#28304;&#36335;&#24452;&#24517;&#39035;&#26159;&#32477;&#23545;&#36335;&#24452;&#65292;&#38500;&#38750;&#30446;&#26631;&#36335;&#24452;&#22312;&#24403;&#21069;&#30446;&#24405;&#20013;&#12290;</td>
</tr>
<tr>
<td><code>create_hard_links</code></td>
<td>&#21019;&#24314;&#35299;&#26512;&#21040;&#19982;&#21407;&#26377;&#25991;&#20214;&#30456;&#21516;&#25991;&#20214;&#30340;&#30828;&#38142;&#25509;&#65292;&#32780;&#19981;&#21019;&#24314;&#25991;&#20214;&#21103;&#26412;&#12290;</td>
</tr>
</table>
<h3><span class="mw-headline" id=".E7.A4.BA.E4.BE.8B">&#31034;&#20363;</span></h3>
<div class="t-example">
<div class="t-example-live-link"></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="cpp source-cpp">
<pre class="de1"><span class="co2">#include &lt;cstdlib&gt;</span>
<span class="co2">#include &lt;filesystem&gt;</span>
<span class="co2">#include &lt;fstream&gt;</span>
<span class="co2">#include &lt;iostream&gt;</span>
<span class="kw1">namespace</span> fs <span class="sy1">=</span> std<span class="sy4">::</span><span class="me2">filesystem</span><span class="sy4">;</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    fs<span class="sy4">::</span><span class="me2">create_directories</span><span class="br0">(</span><span class="st0">&quot;sandbox/dir/subdir&quot;</span><span class="br0">)</span><span class="sy4">;</span>
    <a href="cpp-io-basic_ofstream.html"><span class="kw1737">std::<span class="me2">ofstream</span></span></a><span class="br0">(</span><span class="st0">&quot;sandbox/file1.txt&quot;</span><span class="br0">)</span>.<span class="me1">put</span><span class="br0">(</span><span class="st0">&#39;a&#39;</span><span class="br0">)</span><span class="sy4">;</span>
    fs<span class="sy4">::</span><span class="me2">copy</span><span class="br0">(</span><span class="st0">&quot;sandbox/file1.txt&quot;</span>, <span class="st0">&quot;sandbox/file2.txt&quot;</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#22797;&#21046;&#25991;&#20214;</span>
    fs<span class="sy4">::</span><span class="me2">copy</span><span class="br0">(</span><span class="st0">&quot;sandbox/dir&quot;</span>, <span class="st0">&quot;sandbox/dir2&quot;</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// &#22797;&#21046;&#30446;&#24405;&#65288;&#38750;&#36882;&#24402;&#65289;</span>
    <span class="kw4">const</span> <span class="kw4">auto</span> copyOptions <span class="sy1">=</span> fs<span class="sy4">::</span><span class="me2">copy_options</span><span class="sy4">::</span><span class="me2">update_existing</span>
                           <span class="sy3">|</span> fs<span class="sy4">::</span><span class="me2">copy_options</span><span class="sy4">::</span><span class="me2">recursive</span>
                           <span class="sy3">|</span> fs<span class="sy4">::</span><span class="me2">copy_options</span><span class="sy4">::</span><span class="me2">directories_only</span>
                           <span class="sy4">;</span>
    fs<span class="sy4">::</span><span class="me2">copy</span><span class="br0">(</span><span class="st0">&quot;sandbox&quot;</span>, <span class="st0">&quot;sandbox_copy&quot;</span>, copyOptions<span class="br0">)</span><span class="sy4">;</span> 
    <span class="kw1">static_cast</span><span class="sy1">&lt;</span><span class="kw4">void</span><span class="sy1">&gt;</span><span class="br0">(</span><a href="cpp-utility-program-system.html"><span class="kw976">std::<span class="me2">system</span></span></a><span class="br0">(</span><span class="st0">&quot;tree&quot;</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
    fs<span class="sy4">::</span><span class="me2">remove_all</span><span class="br0">(</span><span class="st0">&quot;sandbox&quot;</span><span class="br0">)</span><span class="sy4">;</span>
    fs<span class="sy4">::</span><span class="me2">remove_all</span><span class="br0">(</span><span class="st0">&quot;sandbox_copy&quot;</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div>
</div>
<p>&#21487;&#33021;&#30340;&#36755;&#20986;&#65306;</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="text source-text">
<pre class="de1">.
&#9500;&#9472;&#9472; sandbox
&#9474;   &#9500;&#9472;&#9472; dir
&#9474;   &#9474;   &#9492;&#9472;&#9472; subdir
&#9474;   &#9500;&#9472;&#9472; dir2
&#9474;   &#9500;&#9472;&#9472; file1.txt
&#9474;   &#9492;&#9472;&#9472; file2.txt
&#9492;&#9472;&#9472; sandbox_copy
    &#9500;&#9472;&#9472; dir
    &#9474;   &#9492;&#9472;&#9472; subdir
    &#9492;&#9472;&#9472; dir2
 
8 directories, 2 files</pre></div>
</div>
</div>
<h3><span class="mw-headline" id=".E5.8F.82.E9.98.85">&#21442;&#38405;</span></h3>
<table class="t-dsc-begin">
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-filesystem-copy.html"><span class="t-lines"><span>copy</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17)</span></span></span></div>
</div>
</td>
<td>&#22797;&#21046;&#25991;&#20214;&#25110;&#30446;&#24405;<br />
<span class="t-mark" style="white-space: nowrap;">(&#20989;&#25968;)</span></td>
</tr>
<tr class="t-dsc">
<td>
<div class="t-dsc-member-div">
<div><a href="cpp-filesystem-copy_file.html"><span class="t-lines"><span>copy_file</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17)</span></span></span></div>
</div>
</td>
<td>&#22797;&#21046;&#25991;&#20214;&#20869;&#23481;<br />
<span class="t-mark" style="white-space: nowrap;">(&#20989;&#25968;)</span></td>
</tr>
</table>
</div>
<div class="visualClear"></div>
</div>
</div>
</div>
</body>
</html>
