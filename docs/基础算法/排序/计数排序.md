## 定义


计数排序（英语：Counting sort）是一种线性时间的排序算法。


## 过程

计数排序的工作原理是使用一个额外的数组 `cnt`，其中第 $cnt[i]$ 为原序列 $A$ 中值等于 $i$ 的元素的个数，然后根据数组 `cnt` 来将 A 中的元素排到正确的位置。


它的工作过程分为三个步骤：

- 统计每个数字的出现次数。
- 遍历值域范围，输出 `cnt[i]` 次 $i$ 即可。


例如 $a=[1,5,3,3,100,100]$。

首先统计每个数字的次数，分别得到 `cnt[1] = 1, cnt[3] = 5, cnt[5] = 1, cnt[100] = 2`。其余数字的次数均为 $0$。


接下来遍历值域范围 $[1,100]$，输出 `cnt[i]` 次 $i$ 即可。

对于本例子，只会在数值 $1,3,5,100$ 中输出数字，其他数字的输出为空。


![](https://oi-wiki.org/basic/images/counting-sort-animate.svg)


___


**伪代码**


$$
\begin{array}{ll}
1 & \textbf{for } i\gets 0\textbf{ to }w\\
2 & \qquad cnt[i]\gets 0\\
3 & \textbf{for } i\gets 1\textbf{ to }n\\
4 & \qquad cnt[a[i]]\gets cnt[a[i]] + 1\\
5 & \textbf{for } i\gets 0\textbf{ to }w\\
6 & \qquad \textbf{for } j\gets 0\textbf{ to }cnt[i]\\
7 & \qquad\qquad print(i)\\
\end{array}$$

___

## 性质

### 稳定性

计数排序是一种稳定的排序算法。

### 时间复杂度

计数排序的时间复杂度为 $O(n+w)$，其中 $w$ 代表待排序数据的值域大小。


> 因此待排序元素的值域 $w$ 不能太大。如果太大会造成空间超限。

> 例如输入 $n$ 个 $0\sim 10^9$ 以内的数字进行排序，此时显然无法使用计数排序。



### 空间复杂度

取决于值域大小。



