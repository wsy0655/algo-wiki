## 定义


插入排序（英语：Insertion sort）是一种简单直观的排序算法。它的工作原理为将待排列元素划分为「已排序」和「未排序」两部分，每次从「未排序的」元素中选择一个插入到「已排序的」元素中的正确位置。

一个与插入排序相同的操作是打扑克牌时，从牌桌上抓一张牌，按牌面大小插到手牌后，再抓下一张牌。


![](https://oi-wiki.org/basic/images/insertion-sort-animate.svg)



## 具体实现


从桌子上拿起第一张牌自然是有序的。因此我们从第二张牌开始考虑，依次考虑 $a[2]\sim a[n]$ 的所有数字应当插入一个什么合适的位置。


具体来讲：维护 $a[1]\sim a[i-1]$ 为已排序的部分，每次考虑新元素 $a[i]$ 应该正确插入在什么位置。

- 倒序遍历已排序的部分，记作 $a[j]$，$j$ 初始为 $i-1$。
- 若满足 $a[j]>a[i]$，则 $a[j]$ 先向后移动 **让出位置**。
- 然后继续比较，直到找到 $a[i]$ 应当正确插入的位置。


**伪代码**
 
$$
\begin{array}{ll}
1 & \textbf{for } i\gets 2\textbf{ to }n\\
2 & \qquad key\gets A[i]\\
3 & \qquad j\gets i-1\\
4 & \qquad\textbf{while }j>0\textbf{ and }A[j]>key\\
5 & \qquad\qquad A[j + 1]\gets A[j]\\
6 & \qquad\qquad j\gets j - 1\\
7 & \qquad A[j + 1]\gets key
\end{array}$$



## 性质
### 稳定性
插入排序是一种稳定的排序算法。

### 时间复杂度
插入排序的最优时间复杂度为 $O(n)$，在数列几乎有序时效率很高。

插入排序的最坏时间复杂度和平均时间复杂度都为 $O(n^2)$。


