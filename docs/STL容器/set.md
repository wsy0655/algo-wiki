### ğŸŒ² ä¸€ã€æ¦‚è¿°

`set` æ˜¯ C++ STL ä¸­çš„å…³è”å®¹å™¨ï¼Œå«æœ‰é”®å€¼ç±»å‹å¯¹è±¡çš„å·²æ’åºé›†åˆï¼Œå†…éƒ¨é€šå¸¸é‡‡ç”¨ **çº¢é»‘æ ‘** å®ç°ã€‚

ğŸ§  ç‰¹ç‚¹ï¼š

* å…ƒç´ è‡ªåŠ¨å‡åºæ’åºï¼›
* ä¸å…è®¸é‡å¤å…ƒç´ ï¼›
* æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾å¤æ‚åº¦ä¸º \$O(\log n)\$ï¼›
* é€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤çš„åœºæ™¯ã€‚

ğŸ“Œ å®šä¹‰æ–¹å¼ï¼š

```cpp
set<value_type> s;
```

ğŸ“ å¸¸è§ç¤ºä¾‹ï¼š

```cpp
set<int> s;
set<long long> s;
set<string> s;
set<pair<int, int>> s;
set<int> s[100005]; // å¤šä¸ª set
```

ğŸ“‰ è‹¥éœ€é™åºæ’åºï¼š

```cpp
set<int, greater<>> s;
```

ğŸ” æ³¨æ„ï¼šç±»å‹å¿…é¡»æ”¯æŒ `<` è¿ç®—ç¬¦ã€‚è‹¥ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹ä½œé”®ï¼Œéœ€è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ã€‚

---

### ğŸ§° äºŒã€åŸºç¡€æ“ä½œ

ä»¥ä¸‹æ“ä½œä»¥ `set<int> s` ä¸ºä¾‹ï¼š

| æ“ä½œ       | ç¤ºä¾‹           | è¯´æ˜                                          | å¤æ‚åº¦        |
| ---------- | -------------- | --------------------------------------------- | ------------- |
| æ’å…¥å…ƒç´    | `s.insert(x);` | è‹¥ `x` ä¸å­˜åœ¨åˆ™æ’å…¥                           | \$O(\log n)\$ |
| å­˜åœ¨æ€§æŸ¥è¯¢ | `s.count(x);`  | è¿”å› 1 è¡¨ç¤ºå­˜åœ¨ï¼Œè¿”å› 0 è¡¨ç¤ºä¸å­˜åœ¨            | \$O(\log n)\$ |
| æŸ¥æ‰¾è¿­ä»£å™¨ | `s.find(x);`   | è¿”å›æŒ‡å‘ `x` çš„è¿­ä»£å™¨ï¼Œè‹¥ä¸å­˜åœ¨è¿”å› `s.end()` | \$O(\log n)\$ |
| åˆ é™¤å€¼     | `s.erase(x);`  | åˆ é™¤æ‰€æœ‰å€¼ä¸º `x` çš„å…ƒç´                        | \$O(\log n)\$ |
| åˆ é™¤è¿­ä»£å™¨ | `s.erase(it);` | åˆ é™¤æŒ‡å®šè¿­ä»£å™¨ä½ç½®çš„å…ƒç´ ï¼ˆéœ€å­˜åœ¨ï¼‰            | \$O(\log n)\$ |
| æ¸…ç©º       | `s.clear();`   | æ¸…ç©ºæ‰€æœ‰å…ƒç´                                   | \$O(n)\$      |
| è·å–å¤§å°   | `s.size();`    | è¿”å›å½“å‰å…ƒç´ æ•°é‡                              | \$O(1)\$      |

âš ï¸ æ³¨æ„ï¼šæ¶‰åŠè¿­ä»£å™¨çš„æ“ä½œï¼Œå¦‚ `s.erase(s.begin())`ï¼Œåœ¨é›†åˆä¸ºç©ºæ—¶ä¼šå¯¼è‡´è¿è¡Œé”™è¯¯ï¼ˆREï¼‰ï¼ŒåŠ¡å¿…å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚

---

### ğŸ” ä¸‰ã€éå†æ–¹å¼

ğŸ“˜ æ–¹æ³•ä¸€ï¼šä¼ ç»Ÿè¿­ä»£å™¨å†™æ³•

```cpp
for (set<int>::iterator it = s.begin(); it != s.end(); ++it)
{
    cout << *it << " ";
}
```

ğŸ“— æ–¹æ³•äºŒï¼šä½¿ç”¨ `auto`

```cpp
for (auto x : s)
{
    cout << x << " ";
}
```

âœ… æ¨èä½¿ç”¨ `auto` ç®€æ´æ˜äº†ã€‚

---

### ğŸ§® å››ã€å‡½æ•°ä¸æŠ€å·§

* æŸ¥æ‰¾å…ƒç´ ï¼š

```cpp
if (s.find(x) != s.end())
    cout << "Found";
```

* `lower_bound(x)`ï¼šè¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äº \$x\$ çš„å…ƒç´ çš„è¿­ä»£å™¨

```cpp
auto it = s.lower_bound(x);
```

* `upper_bound(x)`ï¼šè¿”å›ç¬¬ä¸€ä¸ªå¤§äº \$x\$ çš„å…ƒç´ çš„è¿­ä»£å™¨

```cpp
auto it = s.upper_bound(x);
```

ğŸ“‰ æœ€å°å€¼ï¼š

```cpp
if (!s.empty())
    cout << *s.begin();
```

ğŸ“ˆ æœ€å¤§å€¼ï¼š

```cpp
if (!s.empty()) 
{
    auto it = s.end();
    --it;
    cout << *it;
}
```

æˆ–

```cpp
if (!s.empty())
    cout << *s.rbegin();
```

ğŸ—‘ï¸ åˆ é™¤æœ€å°å€¼ï¼š

```cpp
if (!s.empty()) s.erase(s.begin());
```

ğŸ—‘ï¸ åˆ é™¤æœ€å¤§å€¼ï¼š

```cpp
if (!s.empty()) 
{
    auto it = s.end();
    --it;
    s.erase(it);
}
```

ğŸ“¦ æ”¯æŒå¤æ‚ç±»å‹ï¼šä»¥ `set<pair<int, int>>` ä¸ºä¾‹ï¼š

```cpp
set<pair<int, int>> s;
s.insert({1, 2});
s.insert({3, 4});
s.insert({5, 6});

s.erase({1, 2}); // æŒ‰ç…§å€¼åˆ é™¤

auto it = s.find({1, 2}); 
if (it != s.end()) s.erase(it); // æŒ‰ç…§è¿­ä»£å™¨åˆ é™¤
// éå† pair<int, int> ç±»å‹çš„ set 
for (auto it : s)
{
    cout << it.first << " " << it.second << "\n";	
} 

// è·å–æœ€å°å€¼

if (!s.empty())
{
    auto it = s.begin();
    cout << (*it).first << " " << (*it).second << "\n";
} 
```

---

### ğŸ§ª äº”ã€æ¨¡æ¿é¢˜ç¤ºä¾‹

ğŸ”— [æ¨¡æ¿é¢˜é“¾æ¥](http://www.tarjanoj.com/d/tarjan24/p/180)

```cpp
#include <bits/stdc++.h>
using namespace std;
int main()
{
    set<int> s;
    int q;
    cin >> q;
    while (q--)
    {
        int op;
        cin >> op;
        if (op == 1)
        {
            int x; 
            cin >> x;
            s.insert(x);
        }
        else if (op == 2)
        {
            int x; 
            cin >> x;
            s.erase(x);
        }
        else if (op == 3)
        {
            int x, y;
            cin >> x >> y;
            vector<int> temp; // å­˜å‚¨å¾…åˆ é™¤å…ƒç´ ï¼Œä¸èƒ½ç›´æ¥éå†æ—¶åˆ é™¤
            for (auto val : s)
                if (val >= x && val <= y)
                    temp.push_back(val);
            for (auto val : temp)
                s.erase(val);
        }
        else if (op == 4)
        {
            if (s.empty()) cout << "-1\n";
            else cout << *s.begin() << "\n";
        }
    }
    return 0;
}
```

---

### ğŸŒ€ å…­ã€`multiset`

`multiset` æ˜¯å…è®¸é‡å¤å…ƒç´ çš„æœ‰åºé›†åˆï¼Œåº•å±‚åŒæ ·ä¸ºçº¢é»‘æ ‘ã€‚

ğŸ“Œ ç‰¹ç‚¹ï¼š

* è‡ªåŠ¨æ’åºï¼ˆé»˜è®¤å‡åºï¼‰ï¼›
* æ”¯æŒé‡å¤å€¼ï¼›
* æ’å…¥ã€æŸ¥æ‰¾ã€åˆ é™¤å¤æ‚åº¦å‡ä¸º \$O(\log n)\$ï¼›

ğŸ“ æ“ä½œï¼š

```cpp
multiset<int> s;
s.insert(x); // æ’å…¥
s.count(x);  // æŸ¥è¯¢å‡ºç°æ¬¡æ•°
s.erase(x);  // åˆ é™¤æ‰€æœ‰å€¼ä¸º x çš„å…ƒç´ 
```

ğŸ” è‹¥åªåˆ é™¤ä¸€ä¸ªå€¼ä¸º x çš„å…ƒç´ ï¼š

```cpp
auto it = s.find(x);
if (it != s.end()) s.erase(it); // åˆ é™¤ä¸€ä¸ª
```

---

### âš™ï¸ ä¸ƒã€å…¶å®ƒç±»å‹ set å®¹å™¨

| å®¹å™¨ç±»å‹             | æ˜¯å¦æœ‰åº | æ˜¯å¦å”¯ä¸€ | å…è®¸é‡å¤ | æŸ¥æ‰¾å¤æ‚åº¦                  |
| -------------------- | -------- | -------- | -------- | --------------------------- |
| `set`                | âœ… æ˜¯     | âœ… æ˜¯     | âŒ å¦     | \$O(\log n)\$               |
| `multiset`           | âœ… æ˜¯     | âŒ å¦     | âœ… æ˜¯     | \$O(\log n)\$               |
| `unordered_set`      | âŒ å¦     | âœ… æ˜¯     | âŒ å¦     | å¹³å‡ \$O(1)\$ æœ€å \$O(n)\$ |
| `unordered_multiset` | âŒ å¦     | âŒ å¦     | âœ… æ˜¯     | å¹³å‡ \$O(1)\$ æœ€å \$O(n)\$ |

âœ… åœ¨å¤šæ•°ç®—æ³•ç«èµ›ä¸­é¦–é€‰ `set` å’Œ `multiset`ï¼Œå› å…¶æœ‰åºæ€§ã€‚

---

ğŸ“š **æ€»ç»“**ï¼š

* `set` é€‚ç”¨äºå¿«é€ŸæŸ¥æ‰¾ä¸”ä¸é‡å¤å…ƒç´ çš„åœºæ™¯ï¼›
* `multiset` ç”¨äºå…è®¸é‡å¤çš„è®¡æ•°ç±»ä»»åŠ¡ï¼›
* `unordered_set` ä¸ä¿è¯é¡ºåºä½†æ•ˆç‡æ›´é«˜ã€‚

ğŸ’¡ ç†Ÿç»ƒæŒæ¡ `set` ä¸å…¶å˜ç§å®¹å™¨ï¼Œå°†å¤§å¹…æé«˜ä½ è§£å†³ç®—æ³•é—®é¢˜çš„èƒ½åŠ›ï¼
