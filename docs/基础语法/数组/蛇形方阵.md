## 题解思路：顺时针蛇形矩阵填充

### 题目简述

- 给定正整数 $n$，构造一个 $n \times n$ 的方阵。
- 从左上角开始，按顺时针方向填入数字 $1$ 到 $n^2$。
- 输出格式要求：每个数字占3个字符宽，左侧空格补齐。

---

### 关键点分析

1. **填充顺序**：  
   按顺时针方向填充，即依次为右、下、左、上四个方向循环。

2. **边界判断**：  
   当下一步位置越界或者该位置已被填充时，需要改变方向。

3. **矩阵状态维护**：  
   维护一个二维数组 `matrix` 用来存放填入的数字，初始化为0表示未填。

4. **初始条件**：  
   起点为 `(0,0)`，初始方向向右 `(0, 1)`。

---

### 具体流程

1. 初始化矩阵大小为 $n \times n$，所有元素为0。
2. 设置方向数组 `dirs = [(0,1), (1,0), (0,-1), (-1,0)]`，表示右、下、左、上。
3. 设当前坐标 `(x, y) = (0, 0)`，当前方向索引 `d = 0`。
4. 依次填入数字 `num` 从1到 $n^2$：
   - 填入 `matrix[x][y] = num`
   - 计算下一步坐标 `(nx, ny) = (x + dirs[d][0], y + dirs[d][1])`
   - 如果 `(nx, ny)` 越界或 `matrix[nx][ny] != 0`，说明需换方向：
     - `d = (d + 1) % 4`
     - 重新计算 `(nx, ny)`。
   - 更新当前坐标为 `(nx, ny)`。
5. 填充完成后，格式化输出矩阵：
   - 每个数字右对齐，占3个字符宽，用空格补齐。
   - 数字之间以空格分隔，每行换行。

---

### 复杂度分析

- 时间复杂度：$O(n^2)$，每个格子填一次。
- 空间复杂度：$O(n^2)$，用于存储矩阵。

---

### 小结

- 本题是典型的顺时针螺旋矩阵填充问题。
- 核心在于正确判断边界与已填位置，灵活转向。
- 注意输出格式，数字占3字符宽，左侧补空格。
