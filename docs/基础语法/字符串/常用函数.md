





以下是 C++ 中常用的字符串函数及其用法说明，适用于日常算法练习、竞赛编程。

---


## 创建字符串

创建字符串最常用的方式有：

- `string s = "hello world";`
- `string s(10, 'a');` 初始化一个长度为 10 的字符串，每个字符为 'a'

## 基本用法

* 定义：`string s`
* 赋值：`s = "hello"`
* 可以理解为是一个 `char` 类型的数组。
* 输入输出比较方便：`cin >> s, cout << s`
* 获取字符串长度的函数：`s.size(), s.length()`
* 字符串自带加法运算：字符串和字符串加，字符串和字符加。

```cpp
string s = "hello";
string t = "world";
cout << s + t; // helloworld
string s = "hello";
char t = 'w';
cout << s + t; // hellow
```

## 遍历字符串

* **法一：通过下标来完成遍历**

下标从 $0$ 开始，到 `s.size() - 1`

```cpp
string s;
cin >> s;
int n = s.size();
for (int i = 0; i < n; i++)
{
    cout << s[i];
}
```

* **法二：通过字符直接遍历**

```cpp
string s;
cin >> s;
for (char c : s)
{
    cout << c;
}
```

**区别**

- 法一：通过下标来完成遍历，直接获取字符串本身。修改 `s[i]` 会直接影响原字符串本身。
- 法二：通过字符来完成遍历，获取字符串本身。修改 `c` 不会影响原字符串本身。
    - 如果要做修改操作，需要 `for (char &c : s)` 改为引用的方式遍历。


## 常见应用

* **给定一个字符串，将其进行大小写转化。**

每一个 `s[i]` 都是 `char`

**做法：**

遍历字符串，对每一个 `s[i]` 判定，如果是大写就变小写，否则变大写。利用 `ASCII` 码判断。`A = 65`，`a = 97`，`0 = 48`

```cpp
for (int i = 0; i < s.size(); i++)
{
    if (s[i] >= 65 && s[i] <= 90) // s[i] >= 'A' && s[i] <= 'Z'
    {
        s[i] += 32;
    }
    else if (s[i] >= 97 && s[i] <= 122)// s[i] >= 'a' && s[i] <= 'z'
    {
        s[i] -= 32;
    }
}
```

* **不同的字符串之间支持比较。**

支持 `>, >=, <=, <, !=, ==` 这几个运算符。

`s = "hello", t = "world"`

**比较规则：**

两个字符串，不论长度，统一靠左对齐，然后一一比较，若 `ASCII` 码不相同，则 `ASCII` 码大的字符串大，否则看向下一位。

举例：`hel` 和 `abcd`，`hel` 大

`abcd` 和 `abd`，`abd` 大

`abcd` 和 `abc`，`abcd` 大。

```cpp
string s, t;
cin >> s >> t;
if (s > t)
{
    s 大
}
else if (s < t)
{
    t 大
}
else 
{
    相等
}
```
* **输入带空格的字符串。**

由于 `cin` 语句遇到空格或回车就自动结束，如果输入的字符串之间有空格，则无法顺利保存。有两种解决方法。

**方法一**

使用 `getline()` 函数可以保存空格，例子如下：

```cpp
string s;
getline(cin, s);
```

**方法二**

将输入的字符看作是若干个字符串处理，使用循环结合 `cin` 语句。通常是将 `cin` 写至 `while` 的条件内，由于 `cin` 结束输入后会传递结束输入的标志，该标志可用于结束 `while` 循环。

```cpp
string s;
while (cin >> s)
{
    cout << s << endl;
}
```

## 🔣 支持的运算符

字符串支持 `+, =, >, <, >=, <=, !=, ==` 等运算符。

- `+`：字符串拼接。
    - 例如：`string s1 = "hello"; string s2 = "world"; string s3 = s1 + s2;`
- `=`：赋值。
- `>`：判断字符串是否大于另一个字符串。
    - 按照字典序比较。
- 其余比较运算符类似。


> 字典序：字典序（Dictionary Order）是按照字典中字符 $a\sim z$ 的顺序进行排序的。
> 两个字符串 s1 和 s2 的比较规则如下：
> 靠左对齐，每个字符比较，如果 s1 的字符小于 s2 的字符，则 s1 小于 s2；如果 s1 的字符大于 s2 的字符，则 s1 大于 s2；如果 s1 的字符等于 s2 的字符，则继续比较下一个字符。
> 例如："abc" < "abd", "abcd" < "abd", "12345" < "126"。 

## 🔍 查找函数

**`find()`**

* **功能**：查找字符串中某个字符或子串**第一次出现**的位置。
* **语法**：

  ```cpp
  s.find("b");
  s.find("hello");
  ```
* **返回值**：若找到，返回首字符的下标；若未找到，返回 `string::npos`。

**`rfind()`**

* **功能**：查找字符串中某个字符或子串**最后一次出现**的位置。
* **语法**：

  ```cpp
  s.rfind("l");
  ```
* **返回值**：同 `find()`。

---

## ✂️ 子串提取

**`substr()`**

* **功能**：从字符串中截取指定长度的子串。
* **语法**：

  ```cpp
  s.substr(a, b); // 从下标 a 开始，取 b 个字符
  s.substr(a);    // 从下标 a 开始到末尾
  ```
* **示例**：

  ```cpp
  string s = "hello";
  s.substr(1, 3); // "ell"
  s.substr(1);    // "ello"
  ```

---

## 🔁 反转字符串

**`reverse()`**

* **功能**：反转字符串的全部或部分内容。
* **语法**：

  ```cpp
  reverse(s.begin(), s.end());               // 反转整个字符串
  reverse(s.begin() + l, s.begin() + r + 1); // 反转下标区间 [l, r]
  ```
* **注意**：该函数属于 `<algorithm>` 头文件，返回值为 `void`。

---

## 🔡 字符串排序

**`sort()`**

* **功能**：按 ASCII 值对字符串进行排序。
* **语法**：

  ```cpp
  sort(s.begin(), s.end());                  // 排序整个字符串
  sort(s.begin() + l, s.begin() + r + 1);    // 排序下标区间 [l, r]
  ```
* **头文件**：`<algorithm>`

---

## 🔠 字符判断与大小写转换

**`islower(char)` / `isupper(char)`**

* **功能**：判断字符是否为小写或大写字母。
* **返回值**：`true` 或 `false`
* **示例**：

  ```cpp
  if (islower(s[i])); // 是否小写
  if (isupper(s[i])); // 是否大写
  ```

**`tolower(char)` / `toupper(char)`**

* **功能**：将字符转为小写或大写。

* **返回值**：转换后的字符

* **示例**：

  ```cpp
  char c = 'A';
  c = tolower(c); // 'a'
  ```

* **头文件**：`<cctype>` 或 `<ctype.h>`

---

## 🔢 类型转换

**`to_string()`**

* **功能**：将数值转换为字符串。
* **示例**：

  ```cpp
  int n = 35;
  string s = to_string(n); // "35"
  ```
* **注意**：需要 `C++11` 或更高版本。

**`stoi()`**

* **功能**：将字符串转换为整数（`int`）。
* **示例**：

  ```cpp
  string s = "1234";
  int n = stoi(s); // 1234
  ```

**`stoll()`**

* **功能**：将字符串转换为长整型（`long long`）。
* **示例**：

  ```cpp
  string s = "999999999999";
  long long n = stoll(s);
  ```

---

## ✏️ 字符串修改函数

**`replace()`**

* **功能**：替换字符串中指定位置的一段内容。
* **语法**：

  ```cpp
  s.replace(pos, len, str);
  ```
* **示例**：

  ```cpp
  string s = "hello";
  s.replace(1, 3, "ey"); // s 变为 "heylo"
  ```

**`insert()`**

* **功能**：在指定位置插入字符串。
* **语法**：

  ```cpp
  s.insert(pos, str);
  ```
* **示例**：

  ```cpp
  string s = "hlo";
  s.insert(1, "el"); // s 变为 "hello"
  ```

**`erase()`**

* **功能**：删除字符串中指定区间的字符。
* **语法**：

  ```cpp
  s.erase(pos, len);
  ```
* **示例**：

  ```cpp
  string s = "hello";
  s.erase(1, 3); // s 变为 "ho"
  ```

---

## 🧵 字符串流处理：`stringstream`

**`stringstream`**

* **功能**：用于将字符串拆分为单词、读入数字或构造字符串等。
* **头文件**：`<sstream>`

**常用操作：**

* **定义与赋值**：

  ```cpp
  stringstream ss("123 abc");
  ```
* **读取数字/单词**：

  ```cpp
  int x;
  string word;
  ss >> x >> word; // x = 123, word = "abc"
  ```
* **将多个数据拼接为字符串**：

  ```cpp
  stringstream ss;
  ss << 123 << " apples";
  string result = ss.str(); // "123 apples"
  ```
* **清空并重新使用**：

  ```cpp
  ss.str("");
  ss.clear();
  ```

**示例：按空格分割字符串**

```cpp
string s = "this is a test";
stringstream ss(s);
string word;
while (ss >> word) {
    cout << word << endl;
}
```

---

## 🧾 读取整行输入：`getline()`

**`getline()`**

* **功能**：从输入流中读取一整行字符串，包含空格。
* **语法**：

  ```cpp
  getline(cin, s);         // 从标准输入读取一整行
  getline(ss, s);          // 从 stringstream 中读取一行（到换行符为止）
  ```
* **使用场景**：当需要读取包含空格的一整行文本，而不是逐个单词时。

**示例 1：标准输入读取一整行**

```cpp
string s;
getline(cin, s);
cout << "你输入的是：" << s << endl;
```

**示例 2：与 stringstream 配合使用**

```cpp
string s = "name: Alice\nage: 20";
stringstream ss(s);
string line;
while (getline(ss, line)) {
    cout << line << endl;
}
```

---


**示例 3：读入 $n$ 个带空格的字符串**


```cpp
int n;
cin >> n;
cin.ignore(); // 清空 cin 留下的换行字符
for (int i = 1; i <= n; i++)
{
    string s;
    getline(cin, s);
    cout << s << endl;
}
```


---



🎯 **编译建议**：使用支持 C++11 或以上标准的编译器（如 g++ -std=c++11）以确保新特性正常使用。


## DEV C++开启 C++14 标准方法


- 打开 `DEV C++`
  - 点击上方工具
    - 点击编译器选项
      - 按照下图设置
     
![](https://cdn.luogu.com.cn/upload/image_hosting/du9d3amv.png)
